var lcc$render,__extends=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),__decorate=this&&this.__decorate||function(e,t,r,a){var o,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(n=(i<3?o(n):i>3?o(t,r,n):o(t,r))||n);return i>3&&n&&Object.defineProperty(t,r,n),n},__awaiter=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,i){function n(e){try{l(a.next(e))}catch(t){i(t)}}function s(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,s)}l((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){var r,a,o,i,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(i){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,a=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){n=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){n.label=i[1];break}if(6===i[0]&&n.label<o[1]){n.label=o[1],o=i;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(i);break}o[2]&&n.ops.pop(),n.trys.pop();continue}i=t.call(e,n)}catch(s){i=[6,s],a=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};(function(e){var t,r=cc._decorator,a=r.ccclass,o=r.property,i=r.executeInEditMode,n=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.name="",this.checkOnly=!1,this.name=e[0]||"",this.checkOnly=e[1]||!1}return __decorate([o({tooltip:"\u5b8f\u540d\u79f0(\u4e3a\u7a7a\u8868\u793a\u4e0d\u542f\u7528)"})],e.prototype,"name",void 0),__decorate([o({tooltip:"\u53ea\u7528\u4e8e\u68c0\u67e5"})],e.prototype,"checkOnly",void 0),__decorate([a("lcc$render.MacroConfig")],e)}();e.MacroConfig=n,function(e){e[e.ATTRIBUTE=1]="ATTRIBUTE",e[e.UNIFORM=2]="UNIFORM"}(t=e.VariableType||(e.VariableType={})),function(e){e[e.SINGLE=0]="SINGLE",e[e.VERTEX=1]="VERTEX"}(e.ValueType||(e.ValueType={}));var s=function(){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._typesel=!0,this.type=t.UNIFORM,this.attrMacro=new n,this.attrName="",this.unifMacro=new n,this.unifName="",this._typesel=e[0],this.type=e[1]||t.UNIFORM,this.attrMacro=new n(e[2]||"",e[3]||!1),this.attrName=e[4]||"",this.unifMacro=new n(e[5]||"",e[6]||!1),this.unifName=e[7]||""}return __decorate([o()],e.prototype,"_typesel",void 0),__decorate([o({type:cc.Enum(t),tooltip:"\u53d8\u91cf\u7c7b\u578b",visible:function(){return this._typesel}})],e.prototype,"type",void 0),__decorate([o({type:n,tooltip:"\u5c5e\u6027\u53d8\u91cf\u5b8f\u5b9a\u4e49",visible:function(){return this.type==t.ATTRIBUTE}})],e.prototype,"attrMacro",void 0),__decorate([o({tooltip:"\u5c5e\u6027\u53d8\u91cf\u540d",visible:function(){return this.type==t.ATTRIBUTE}})],e.prototype,"attrName",void 0),__decorate([o({type:n,tooltip:"\u4e00\u822c\u53d8\u91cf\u5b8f\u5b9a\u4e49",visible:function(){return this.type==t.UNIFORM}})],e.prototype,"unifMacro",void 0),__decorate([o({tooltip:"\u4e00\u822c\u53d8\u91cf\u540d",visible:function(){return this.type==t.UNIFORM}})],e.prototype,"unifName",void 0),__decorate([a("lcc$render.VariableConfig")],e)}();e.VariableConfig=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tag="",t}return __extends(t,e),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){this._tag!=e&&(this._tag=e,this.node.emit("shader_update_tag"))},enumerable:!1,configurable:!0}),t.prototype.checkMaterialMacro=function(e,t){return!t.name||(t.checkOnly?e.getDefine(t.name):void 0!==e.getDefine(t.name))},t.prototype.defineMaterialMacro=function(e,t,r){t.name&&!t.checkOnly&&e.define(t.name,r)},t.prototype.getShaderComponent=function(e,t){if(void 0===t)return this.getComponent(e);for(var r=0,a=this.getComponents(e);r<a.length;r++){var o=a[r];if(o._tag==t)return o}},t.prototype.getShaderComponents=function(e,t){return void 0===t?this.getComponents(e):this.getComponents(e).filter(function(e){e._tag})},__decorate([o()],t.prototype,"_tag",void 0),__decorate([o({tooltip:"\u7ec4\u4ef6\u6807\u7b7e"})],t.prototype,"tag",null),__decorate([a("lcc$render.ShaderComponent"),i()],t)}(cc.Component);e.ShaderComponent=l})(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=cc.gfx;(function(e){e[e.ATTRIBUTE=0]="ATTRIBUTE",e[e.UNIFORM=1]="UNIFORM"})(e.ShaderVariableType||(e.ShaderVariableType={}));var n,s={name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2};(function(e){e[e.SHADER=0]="SHADER",e[e.NODE=1]="NODE"})(n||(n={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrsSize=0,t._matsDirty=!0,t._shapeDirty=!0,t._attrsDirty=!0,t._vFormat=null,t._vAttributes=null,t._shapeType=n.NODE,t._verticesCount=0,t._indicesCount=0,t._nodeRect=null,t._srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,t._dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,t}return __extends(t,e),t.prototype.onEnable=function(){e.prototype.onEnable.call(this),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onNodeSizeChanged,this),this.node.on("shader_update_material",this.setMatsDirty,this),this.node.on("shader_update_attribute",this.setAttrsDirty,this),this.node.on("shader_update_shape",this.checkRenderShape,this),this.node.on("shader_update_vertex",this.setVertsDirty,this),this.setDirty()},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),this.node.targetOff(this)},t.prototype.setMatsDirty=function(){this._matsDirty=!0,this.setVertsDirty()},t.prototype.setAttrsDirty=function(){this._attrsDirty=!0,this.setShapeDirty()},t.prototype.setShapeDirty=function(){this._shapeDirty=!0,this.setVertsDirty()},t.prototype.checkRenderShape=function(){this.setShapeDirty(),this._shapeType=n.NODE,this.node.emit("render_check_shape",this),this._shapeType==n.NODE&&(this._verticesCount=4,this._indicesCount=6),this.node.emit("render_shape_checked",this)},t.prototype.setShaderShape=function(e,t){this._shapeType=n.SHADER,this._verticesCount=e,this._indicesCount=t},t.prototype.onNodeSizeChanged=function(){this._shapeType===n.NODE&&this.setVertsDirty()},t.prototype.setVertsDirty=function(){e.prototype.setVertsDirty.call(this)},t.prototype.setDirty=function(){this.checkRenderShape(),this._matsDirty=!0,this._attrsDirty=!0,this._shapeDirty=!0,this.setVertsDirty()},t.prototype.updateToNodeShape=function(){var e=this._assembler.renderData;e.initQuadIndices(e.iDatas[0]),this._nodeRect=[0,0,0,0]},t.prototype.updateNodeVertex=function(){var e,t,r,a,o=this.node,i=o.width,n=o.height,s=o.anchorX*i,l=o.anchorY*n;e=-s,t=-l,r=i-s,a=n-l;var p=this._nodeRect;p[0]=e,p[1]=t,p[2]=r,p[3]=a,this.updateWorldVerts()},t.prototype.updateRenderData=function(){this.prepareRender(),this.updateMaterial(),this.updateAttribute(),this.updateShape(),this.updateVertex()},t.prototype.prepareRender=function(){this.node.emit("render_prepare",this)},t.prototype.updateMaterial=function(){this._matsDirty&&(this.node.emit("render_update_material",this),this._updateBlendFunc(!1),this._matsDirty=!1)},t.prototype.checkVertexAttributeName=function(e){for(var t=0,r=this._vAttributes;t<r.length;t++)if(r[t].name==e)return!1;return!0},t.prototype.addVertexAttribute=function(e,t){var r=-1,a=this._assembler;return this.checkVertexAttributeName(e.name)?(r=a.floatsPerVert,this._vAttributes.push(e),a.floatsPerVert+=t):cc.error("attribute name conflict "+e.name),r},t.prototype.getVfmt=function(){return this._vFormat||(this._vFormat=new i.VertexFormat(this._vAttributes)),this._vFormat},t.prototype.updateAttribute=function(){if(this._attrsDirty){var e=this._assembler;this._vFormat=null,this._vAttributes=[s],e.floatsPerVert=2,this.node.emit("render_update_attribute",this),this._attrsDirty=!1}},t.prototype.updateShape=function(){if(this._shapeDirty){var e=this._assembler;e.verticesCount=this._verticesCount,e.indicesCount=this._indicesCount,e.resetRenderData(),this._shapeType===n.NODE?this.updateToNodeShape():this.node.emit("render_update_shape",this),this._shapeDirty=!1}},t.prototype.updateVertex=function(){this._vertsDirty&&(this._shapeType===n.NODE&&this.updateNodeVertex(),this.node.emit("render_update_vertex",this),this._vertsDirty=!1)},t.prototype.updateWorldVerts=function(){this._shapeType===n.NODE?this.updateNodeWorldVertsWebGL():this.node.emit("render_update_worldvertex",this)},t.prototype.updateNodeWorldVertsWebGL=function(){var e=this._assembler,t=this._nodeRect,r=e.renderData.vDatas[0],a=this.node._worldMatrix.m,o=a[0],i=a[1],n=a[4],s=a[5],l=a[12],p=a[13],h=t[0],c=t[2],d=t[1],u=t[3],_=1===o&&0===i&&0===n&&1===s,f=0,y=e.floatsPerVert;if(_)r[f]=h+l,r[f+1]=d+p,r[f+=y]=c+l,r[f+1]=d+p,r[f+=y]=h+l,r[f+1]=u+p,r[f+=y]=c+l,r[f+1]=u+p;else{var m=o*h,v=o*c,g=i*h,S=i*c,b=n*d,V=n*u,T=s*d,F=s*u;r[f]=m+b+l,r[f+1]=g+T+p,r[f+=y]=v+b+l,r[f+1]=S+T+p,r[f+=y]=m+V+l,r[f+1]=g+F+p,r[f+=y]=v+V+l,r[f+1]=S+F+p}},t.prototype.updateNodeWorldVertsNative=function(){var e=this._assembler,t=this._nodeRect,r=e.renderData.vDatas[0],a=e.floatsPerVert,o=t[0],i=t[2],n=t[1],s=t[3],l=0;r[l]=o,r[l+1]=n,r[l+=a]=i,r[l+1]=n,r[l+=a]=o,r[l+1]=s,r[l+=a]=i,r[l+1]=s},t.prototype.getShaderComponent=function(e,t){if(void 0===t)return this.getComponent(e);for(var r=0,a=this.getComponents(e);r<a.length;r++){var o=a[r];if(o._tag==t)return o}},t.prototype.getShaderComponents=function(e,t){return void 0===t?this.getComponents(e):this.getComponents(e).filter(function(e){e._tag})},t.prototype._activateMaterial=function(){e.prototype._activateMaterial.call(this),this.setDirty()},t.prototype._updateMaterial=function(){this.updateMaterial()},t.prototype._validateRender=function(){if(!this._materials[0])return this.disableRender();this.node.emit("render_validate_render",this)},Object.defineProperty(t.prototype,"srcBlendFactor",{get:function(){return this._srcBlendFactor},set:function(e){this._srcBlendFactor!==e&&(this._srcBlendFactor=e,this._updateBlendFunc(!0),this._onBlendChanged&&this._onBlendChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dstBlendFactor",{get:function(){return this._dstBlendFactor},set:function(e){this._dstBlendFactor!==e&&(this._dstBlendFactor=e,this._updateBlendFunc(!0))},enumerable:!1,configurable:!0}),t.prototype.setMaterial=function(t,r){var a=e.prototype.setMaterial.call(this,t,r);return this._srcBlendFactor===cc.macro.BlendFactor.SRC_ALPHA&&this._dstBlendFactor===cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA||this._updateMaterialBlendFunc(a),this.setMatsDirty(),a},t.prototype._updateBlendFunc=function(e){if(e||this._srcBlendFactor!==cc.macro.BlendFactor.SRC_ALPHA||this._dstBlendFactor!==cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA)for(var t=this.getMaterials(),r=0;r<t.length;r++){var a=t[r];this._updateMaterialBlendFunc(a)}},t.prototype._updateMaterialBlendFunc=function(e){e.setBlend(!0,i.BLEND_FUNC_ADD,this._srcBlendFactor,this._dstBlendFactor,i.BLEND_FUNC_ADD,this._srcBlendFactor,this._dstBlendFactor)},__decorate([a({editorOnly:!0,serializable:!1,readonly:!0})],t.prototype,"attrsSize",void 0),__decorate([a({animatable:!1,type:cc.macro.BlendFactor,tooltip:!1})],t.prototype,"srcBlendFactor",null),__decorate([a({animatable:!1,type:cc.macro.BlendFactor,tooltip:!1})],t.prototype,"dstBlendFactor",null),__decorate([r("lcc$render.RenderSystem"),o("i18n:lcc-render.menu_component/RenderSystem")],t)}(cc.RenderComponent);e.RenderSystem=l}(lcc$render||(lcc$render={})),window.lcc$render=lcc$render,function(e){var t=function(){function e(){}return e.getAssetByUUID=function(e){return new Promise(function(t){cc.assetManager.loadAny([e],function(r,a){!r&&a?t(a):(cc.warn("not found asset : %s",e),t(null))})})},e}();e.Utils=t}(lcc$render||(lcc$render={})),function(e){var t,r;e.UUID={effects:(t={},t["lcc-2d-flash_light"]="9350cd53-72d3-445e-9b64-6025f9b033f3",t["lcc-2d-fluxay_super"]="e0032378-75a3-404a-ae4e-fe63bd91c875",t["lcc-2d-sprite_mask"]="6f8dd8eb-f50d-4d02-8ae7-46d4bb3f73fa",t["lcc-2d_glow_inner"]="8bf46498-6576-462b-8168-7640ce52198c",t["lcc-2d_glow_outter"]="5b49d2f4-9343-47a6-84f4-2bfeeaf0eb63",t["lcc-2d_mosaic"]="df7ce505-6676-4f9d-8bae-5f87bd53f1c2",t["lcc-2d_photo"]="d3414b31-e561-40e8-b78e-0ad38f8bc7c9",t["lcc-2d_outline"]="e0be8740-5375-4ae9-b246-784c147bbfb9",t["lcc-2d_gaussian_blur"]="41f4d474-d707-45bb-af93-637573f92d54",t["lcc-2d_round_corner_crop"]="7c24b57e-e819-4fc9-a8d2-b06cf61b782d",t["lcc-2d_dissolve"]="ab297d98-4c09-4ca1-945c-a7fa8e290bca",t["lcc-2d_transform"]="1bef22fb-8433-4049-ad35-1fbf9e7348ad",t["lcc-2d_rain_drop_ripples"]="f345e656-06d2-42b3-89ec-938182b32113",t),materials:(r={},r["lcc-2d-flash_light"]="58ce2696-4b7b-480e-af98-53b5bae48be3",r["lcc-2d-fluxay_super"]="46b159f9-9673-4c36-9826-b98e5af85f19",r["lcc-2d-sprite_mask"]="5832437a-f25e-4094-8c11-d14e5be5f4f9",r["lcc-2d_glow_inner"]="417f75cf-08d7-4d0f-82f7-299c79529eaa",r["lcc-2d_glow_outter"]="2380adcd-9331-4eb8-9b73-5c9bb2d72d8d",r["lcc-2d_mosaic"]="4b6195fb-f172-4a97-b618-18aa51ebf3aa",r["lcc-2d_photo"]="06e41864-4dc6-489a-8867-95e829db0e5b",r["lcc-2d_outline"]="e24b3cff-b2e0-49aa-b115-1370964437dc",r["lcc-2d_gaussian_blur"]="dd3d8f78-9b79-4ca7-9bf7-7a09f7b34108",r["lcc-2d_round_corner_crop"]="a86e8864-5390-443f-b41b-b38e9d584c43",r["lcc-2d_dissolve"]="4659d83b-f274-42c4-874e-6d5f3e220adc",r["lcc-2d_transform"]="445e85ce-defc-47c6-821f-eaaf831533fb",r["lcc-2d_rain_drop_ripples"]="67bace4b-a406-4378-98a9-319ea18e9c6d",r)}}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._noiseFrame=null,e._degree=.7,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderNoiseFrame=null,e.shaderDegree=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e,this._noiseFrame?this.checkNoiseFrame():this.noiseFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"noiseFrame",{get:function(){return this._noiseFrame},set:function(e){this._noiseFrame!=e&&(this._noiseFrame=e,this.shaderNoiseFrame.spriteFrame=e,this.checkNoiseFrame())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"degree",{get:function(){return this._degree},set:function(e){this._degree!=e&&(this._degree=e,this.shaderDegree.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,this.shaderSpriteFrame=t)),this.shaderNoiseFrame||(this.shaderNoiseFrame=this.getShaderComponent(e.ShaderSpriteFrame,"noiseframe"),this.shaderNoiseFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="noiseframe",t._textureVar.unifMacro.name="USE_NOISE",t._textureVar.unifName="noise",t._uvVar.attrMacro.checkOnly=!1,t._uvVar.attrMacro.name="NOISEOTHER",t._uvVar.attrName="a_uv1",this.shaderNoiseFrame=t)),this.shaderDegree||(this.shaderDegree=this.getShaderComponent(e.ShaderFloat,"degree"),this.shaderDegree||((t=this.addComponent(e.ShaderFloat)).tag="degree",t._valueVar.attrMacro.name="ATTR_DEGREE",t._valueVar.attrName="a_degree",t._valueVar.unifMacro.name="UNIF_DEGREE",t._valueVar.unifName="u_degree",this.shaderDegree=t,t.value=this._degree)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem))),this.checkMaterial()},i.prototype.checkNoiseFrame=function(){this._noiseFrame&&this._spriteFrame&&(this._noiseFrame==this._spriteFrame||this._noiseFrame._uuid==this._spriteFrame._uuid?this.shaderNoiseFrame.applyUV=!1:this.shaderNoiseFrame.applyUV=!0,this.renderSystem.setDirty())},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_noiseFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u566a\u58f0\u5e27"})],i.prototype,"noiseFrame",null),__decorate([a()],i.prototype,"_degree",void 0),__decorate([a({tooltip:"\u7a0b\u5ea6",range:[0,1,.01]})],i.prototype,"degree",null),__decorate([r("lcc$render.EffectDissolve"),o("i18n:lcc-render.menu_component/EffectDissolve")],i)}(e.ShaderComponent);e.EffectDissolve=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._lightColor=cc.Color.WHITE,e._lightAngle=135,e._lightWidth=.2,e._enableGradient=!0,e._cropAlpha=!0,e._moveSpeed=-1,e._moveWidth=2,e._lightLines=1,e._lightSpace=1,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderLightColor=null,e.shaderLightAngle=null,e.shaderLightWidth=null,e.shaderEnableGradient=null,e.shaderCropAlpha=null,e.shaderMoveSpeed=null,e.shaderMoveWidth=null,e.shaderLightLines=null,e.shaderLightSpace=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lightColor",{get:function(){return this._lightColor},set:function(e){this._lightColor=e,this.shaderLightColor.color=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lightAngle",{get:function(){return this._lightAngle},set:function(e){this._lightAngle!=e&&(this._lightAngle=e,this.shaderLightAngle.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lightWidth",{get:function(){return this._lightWidth},set:function(e){this._lightWidth!=e&&(this._lightWidth=e,this.shaderLightWidth.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"enableGradient",{get:function(){return this._enableGradient},set:function(e){this._enableGradient!=e&&(this._enableGradient=e,this.shaderEnableGradient.value=e?1:0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cropAlpha",{get:function(){return this._cropAlpha},set:function(e){this._cropAlpha!=e&&(this._cropAlpha=e,this.shaderCropAlpha.value=e?1:0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"moveSpeed",{get:function(){return this._moveSpeed},set:function(e){this._moveSpeed!=e&&(this._moveSpeed=e,this.shaderMoveSpeed.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"moveWidth",{get:function(){return this._moveWidth},set:function(e){this._moveWidth!=e&&(this._moveWidth=e,this.shaderMoveWidth.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lightLines",{get:function(){return this._lightLines},set:function(e){this._lightLines!=e&&(this._lightLines=e,this.shaderLightLines.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lightSpace",{get:function(){return this._lightSpace},set:function(e){this._lightSpace!=e&&(this._lightSpace=e,this.shaderLightSpace.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,t._uvRectVar.type=e.VariableType.ATTRIBUTE,this.shaderSpriteFrame=t)),this.shaderLightColor||(this.shaderLightColor=this.getShaderComponent(e.ShaderColor,"lightcolor"),this.shaderLightColor||((t=this.addComponent(e.ShaderColor)).tag="lightcolor",t.applyNodeColor=!1,t._colorVar.attrMacro.name="ATTR_LIGHTCOLOR",t._colorVar.attrName="a_lightColor",t._colorVar.unifMacro.name="UNIF_LIGHTCOLOR",t._colorVar.unifName="u_lightColor",this.shaderLightColor=t,t.color=this._lightColor)),this.shaderLightAngle||(this.shaderLightAngle=this.getShaderComponent(e.ShaderFloat,"lightangle"),this.shaderLightAngle||((t=this.addComponent(e.ShaderFloat)).tag="lightangle",t._valueVar.attrMacro.name="ATTR_LIGHTANGLE",t._valueVar.attrName="a_lightAngle",t._valueVar.unifMacro.name="UNIF_LIGHTANGLE",t._valueVar.unifName="u_lightAngle",this.shaderLightAngle=t,t.value=this._lightAngle)),this.shaderLightWidth||(this.shaderLightWidth=this.getShaderComponent(e.ShaderFloat,"lightwidth"),this.shaderLightWidth||((t=this.addComponent(e.ShaderFloat)).tag="lightwidth",t._valueVar.attrMacro.name="ATTR_LIGHTWIDTH",t._valueVar.attrName="a_lightWidth",t._valueVar.unifMacro.name="UNIF_LIGHTWIDTH",t._valueVar.unifName="u_lightWidth",this.shaderLightWidth=t,t.value=this._lightWidth)),this.shaderEnableGradient||(this.shaderEnableGradient=this.getShaderComponent(e.ShaderFloat,"enablegradient"),this.shaderEnableGradient||((t=this.addComponent(e.ShaderFloat)).tag="enablegradient",t._valueVar.attrMacro.name="ATTR_ENABLEGRADIENT",t._valueVar.attrName="a_enableGradient",t._valueVar.unifMacro.name="UNIF_ENABLEGRADIENT",t._valueVar.unifName="u_enableGradient",this.shaderEnableGradient=t,t.value=this._enableGradient?1:0)),this.shaderCropAlpha||(this.shaderCropAlpha=this.getShaderComponent(e.ShaderFloat,"cropalpha"),this.shaderCropAlpha||((t=this.addComponent(e.ShaderFloat)).tag="cropalpha",t._valueVar.attrMacro.name="ATTR_CROPALPHA",t._valueVar.attrName="a_cropAlpha",t._valueVar.unifMacro.name="UNIF_CROPALPHA",t._valueVar.unifName="u_cropAlpha",this.shaderCropAlpha=t,t.value=this._cropAlpha?1:0)),this.shaderMoveSpeed||(this.shaderMoveSpeed=this.getShaderComponent(e.ShaderFloat,"movespeed"),this.shaderMoveSpeed||((t=this.addComponent(e.ShaderFloat)).tag="movespeed",t._valueVar.attrMacro.name="ATTR_MOVESPEED",t._valueVar.attrName="a_moveSpeed",t._valueVar.unifMacro.name="UNIF_MOVESPEED",t._valueVar.unifName="u_moveSpeed",this.shaderMoveSpeed=t,t.value=this._moveSpeed)),this.shaderMoveWidth||(this.shaderMoveWidth=this.getShaderComponent(e.ShaderFloat,"movewidth"),this.shaderMoveWidth||((t=this.addComponent(e.ShaderFloat)).tag="movewidth",t._valueVar.attrMacro.name="ATTR_MOVEWIDTH",t._valueVar.attrName="a_moveWidth",t._valueVar.unifMacro.name="UNIF_MOVEWIDTH",t._valueVar.unifName="u_moveWidth",this.shaderMoveWidth=t,t.value=this._moveWidth)),this.shaderLightLines||(this.shaderLightLines=this.getShaderComponent(e.ShaderFloat,"lightlines"),this.shaderLightLines||((t=this.addComponent(e.ShaderFloat)).tag="lightlines",t._valueVar.attrMacro.name="ATTR_LIGHTLINES",t._valueVar.attrName="a_lightLines",t._valueVar.unifMacro.name="UNIF_LIGHTLINES",t._valueVar.unifName="u_lightLines",this.shaderLightLines=t,t.value=this._lightLines)),this.shaderLightSpace||(this.shaderLightSpace=this.getShaderComponent(e.ShaderFloat,"lightspace"),this.shaderLightSpace||((t=this.addComponent(e.ShaderFloat)).tag="lightspace",t._valueVar.attrMacro.name="ATTR_LIGHTSPACE",t._valueVar.attrName="a_lightSpace",t._valueVar.unifMacro.name="UNIF_LIGHTSPACE",t._valueVar.unifName="u_lightSpace",this.shaderLightSpace=t,t.value=this._lightSpace)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a(cc.Color)],i.prototype,"_lightColor",void 0),__decorate([a({type:cc.Color,tooltip:"\u5149\u7ebf\u989c\u8272"})],i.prototype,"lightColor",null),__decorate([a()],i.prototype,"_lightAngle",void 0),__decorate([a({tooltip:"\u5149\u675f\u503e\u659c\u89d2\u5ea6",range:[0,360,1]})],i.prototype,"lightAngle",null),__decorate([a()],i.prototype,"_lightWidth",void 0),__decorate([a({tooltip:"\u5149\u675f\u5bbd\u5ea6"})],i.prototype,"lightWidth",null),__decorate([a()],i.prototype,"_enableGradient",void 0),__decorate([a({tooltip:"\u542f\u7528\u5149\u675f\u6e10\u53d8"})],i.prototype,"enableGradient",null),__decorate([a()],i.prototype,"_cropAlpha",void 0),__decorate([a({tooltip:"\u88c1\u526a\u6389\u900f\u660e\u533a\u57df\u4e0a\u7684\u5149"})],i.prototype,"cropAlpha",null),__decorate([a()],i.prototype,"_moveSpeed",void 0),__decorate([a({tooltip:"\u79fb\u52a8\u901f\u5ea6"})],i.prototype,"moveSpeed",null),__decorate([a()],i.prototype,"_moveWidth",void 0),__decorate([a({tooltip:"\u79fb\u52a8\u5bbd\u5ea6"})],i.prototype,"moveWidth",null),__decorate([a()],i.prototype,"_lightLines",void 0),__decorate([a({tooltip:"\u5149\u675f\u6570\u91cf",range:[1,20,1]})],i.prototype,"lightLines",null),__decorate([a()],i.prototype,"_lightSpace",void 0),__decorate([a({tooltip:"\u5149\u675f\u95f4\u8ddd"})],i.prototype,"lightSpace",null),__decorate([r("lcc$render.EffectFlashLight"),o("i18n:lcc-render.menu_component/EffectFlashLight")],i)}(e.ShaderComponent);e.EffectFlashLight=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._speed=1,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderSpeed=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed!=e&&(this._speed=e,this.shaderSpeed.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyUV=!0,t.applyShape=!0,this.shaderSpriteFrame=t)),this.shaderSpeed||(this.shaderSpeed=this.getShaderComponent(e.ShaderFloat,"speed"),this.shaderSpeed||((t=this.addComponent(e.ShaderFloat)).tag="speed",t._valueVar.attrMacro.name="ATTR_SPEED",t._valueVar.attrName="a_speed",t._valueVar.unifMacro.name="UNIF_SPEED",t._valueVar.unifName="u_speed",t.value=1,this.shaderSpeed=t)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a()],i.prototype,"_speed",void 0),__decorate([a({tooltip:"\u6548\u679c\u901f\u5ea6"})],i.prototype,"speed",null),__decorate([r("lcc$render.EffectFluxaySuper"),o("i18n:lcc-render.menu_component/EffectFluxaySuper")],i)}(e.ShaderComponent);e.EffectFluxaySuper=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e.renderSystem=null,e.shaderSpriteFrame=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){if(!this.shaderSpriteFrame&&(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),!this.shaderSpriteFrame)){var t=this.addComponent(e.ShaderSpriteFrame);t.tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,t.applyFrameSize=!0,this.shaderSpriteFrame=t}this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([r("lcc$render.EffectGaussianBlur"),o("i18n:lcc-render.menu_component/EffectGaussianBlur")],i)}(e.ShaderComponent);e.EffectGaussianBlur=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._glowColor=cc.Color.YELLOW,e._glowColorSize=.2,e._glowThreshold=.1,e._glowFlash=0,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderGlowColor=null,e.shaderGlowColorSize=null,e.shaderGlowThreshold=null,e.shaderGlowFlash=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowColor",{get:function(){return this._glowColor},set:function(e){this._glowColor=e,this.shaderGlowColor.color=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowColorSize",{get:function(){return this._glowColorSize},set:function(e){this._glowColorSize!=e&&(this._glowColorSize=e,this.shaderGlowColorSize.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowThreshold",{get:function(){return this._glowThreshold},set:function(e){this._glowThreshold!=e&&(this._glowThreshold=e,this.shaderGlowThreshold.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowFlash",{get:function(){return this._glowFlash},set:function(e){this._glowFlash!=e&&(this._glowFlash=e,this.shaderGlowFlash.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,this.shaderSpriteFrame=t)),this.shaderGlowColor||(this.shaderGlowColor=this.getShaderComponent(e.ShaderColor,"glowColor"),this.shaderGlowColor||((t=this.addComponent(e.ShaderColor)).tag="glowColor",t.applyNodeColor=!1,t._colorVar.attrMacro.name="ATTR_GLOWCOLOR",t._colorVar.attrName="a_glowColor",t._colorVar.unifMacro.name="UNIF_GLOWCOLOR",t._colorVar.unifName="u_glowColor",this.shaderGlowColor=t,t.color=this._glowColor)),this.shaderGlowColorSize||(this.shaderGlowColorSize=this.getShaderComponent(e.ShaderFloat,"glowColorSize"),this.shaderGlowColorSize||((t=this.addComponent(e.ShaderFloat)).tag="glowColorSize",t._valueVar.attrMacro.name="ATTR_GLOWCOLORSIZE",t._valueVar.attrName="a_glowColorSize",t._valueVar.unifMacro.name="UNIF_GLOWCOLORSIZE",t._valueVar.unifName="u_glowColorSize",this.shaderGlowColorSize=t,t.value=this._glowColorSize)),this.shaderGlowThreshold||(this.shaderGlowThreshold=this.getShaderComponent(e.ShaderFloat,"glowThreshold"),this.shaderGlowThreshold||((t=this.addComponent(e.ShaderFloat)).tag="glowThreshold",t._valueVar.attrMacro.name="ATTR_GLOWTHRESHOLD",t._valueVar.attrName="a_glowThreshold",t._valueVar.unifMacro.name="UNIF_GLOWTHRESHOLD",t._valueVar.unifName="u_glowThreshold",this.shaderGlowThreshold=t,t.value=this._glowThreshold)),this.shaderGlowFlash||(this.shaderGlowFlash=this.getShaderComponent(e.ShaderFloat,"glowFlash"),this.shaderGlowFlash||((t=this.addComponent(e.ShaderFloat)).tag="glowFlash",t._valueVar.attrMacro.name="ATTR_GLOWFLASH",t._valueVar.attrName="a_glowFlash",t._valueVar.unifMacro.name="UNIF_GLOWFLASH",t._valueVar.unifName="u_glowFlash",this.shaderGlowFlash=t,t.value=this._glowFlash)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a(cc.Color)],i.prototype,"_glowColor",void 0),__decorate([a({type:cc.Color,tooltip:"\u53d1\u5149\u989c\u8272"})],i.prototype,"glowColor",null),__decorate([a()],i.prototype,"_glowColorSize",void 0),__decorate([a({tooltip:"\u53d1\u5149\u5bbd\u5ea6",range:[0,1,.1]})],i.prototype,"glowColorSize",null),__decorate([a()],i.prototype,"_glowThreshold",void 0),__decorate([a({tooltip:"\u53d1\u5149\u9608\u503c",range:[0,1,.1]})],i.prototype,"glowThreshold",null),__decorate([a()],i.prototype,"_glowFlash",void 0),__decorate([a({tooltip:"\u53d1\u5149\u95ea\u70c1\u901f\u5ea6"})],i.prototype,"glowFlash",null),__decorate([r("lcc$render.EffectGlowInner"),o("i18n:lcc-render.menu_component/EffectGlowInner")],i)}(e.ShaderComponent);e.EffectGlowInner=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._glowColor=cc.Color.YELLOW,e._glowColorSize=.1,e._glowThreshold=1,e._glowFlash=0,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderGlowColor=null,e.shaderGlowColorSize=null,e.shaderGlowThreshold=null,e.shaderGlowFlash=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowColor",{get:function(){return this._glowColor},set:function(e){this._glowColor=e,this.shaderGlowColor.color=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowColorSize",{get:function(){return this._glowColorSize},set:function(e){this._glowColorSize!=e&&(this._glowColorSize=e,this.shaderGlowColorSize.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowThreshold",{get:function(){return this._glowThreshold},set:function(e){this._glowThreshold!=e&&(this._glowThreshold=e,this.shaderGlowThreshold.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowFlash",{get:function(){return this._glowFlash},set:function(e){this._glowFlash!=e&&(this._glowFlash=e,this.shaderGlowFlash.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,this.shaderSpriteFrame=t)),this.shaderGlowColor||(this.shaderGlowColor=this.getShaderComponent(e.ShaderColor,"glowColor"),this.shaderGlowColor||((t=this.addComponent(e.ShaderColor)).tag="glowColor",t.applyNodeColor=!1,t._colorVar.attrMacro.name="ATTR_GLOWCOLOR",t._colorVar.attrName="a_glowColor",t._colorVar.unifMacro.name="UNIF_GLOWCOLOR",t._colorVar.unifName="u_glowColor",this.shaderGlowColor=t,t.color=this._glowColor)),this.shaderGlowColorSize||(this.shaderGlowColorSize=this.getShaderComponent(e.ShaderFloat,"glowColorSize"),this.shaderGlowColorSize||((t=this.addComponent(e.ShaderFloat)).tag="glowColorSize",t._valueVar.attrMacro.name="ATTR_GLOWCOLORSIZE",t._valueVar.attrName="a_glowColorSize",t._valueVar.unifMacro.name="UNIF_GLOWCOLORSIZE",t._valueVar.unifName="u_glowColorSize",this.shaderGlowColorSize=t,t.value=this._glowColorSize)),this.shaderGlowThreshold||(this.shaderGlowThreshold=this.getShaderComponent(e.ShaderFloat,"glowThreshold"),this.shaderGlowThreshold||((t=this.addComponent(e.ShaderFloat)).tag="glowThreshold",t._valueVar.attrMacro.name="ATTR_GLOWTHRESHOLD",t._valueVar.attrName="a_glowThreshold",t._valueVar.unifMacro.name="UNIF_GLOWTHRESHOLD",t._valueVar.unifName="u_glowThreshold",this.shaderGlowThreshold=t,t.value=this._glowThreshold)),this.shaderGlowFlash||(this.shaderGlowFlash=this.getShaderComponent(e.ShaderFloat,"glowFlash"),this.shaderGlowFlash||((t=this.addComponent(e.ShaderFloat)).tag="glowFlash",t._valueVar.attrMacro.name="ATTR_GLOWFLASH",t._valueVar.attrName="a_glowFlash",t._valueVar.unifMacro.name="UNIF_GLOWFLASH",t._valueVar.unifName="u_glowFlash",this.shaderGlowFlash=t,t.value=this._glowFlash)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a(cc.Color)],i.prototype,"_glowColor",void 0),__decorate([a({type:cc.Color,tooltip:"\u53d1\u5149\u989c\u8272"})],i.prototype,"glowColor",null),__decorate([a()],i.prototype,"_glowColorSize",void 0),__decorate([a({tooltip:"\u53d1\u5149\u5bbd\u5ea6",range:[0,1,.1]})],i.prototype,"glowColorSize",null),__decorate([a()],i.prototype,"_glowThreshold",void 0),__decorate([a({tooltip:"\u53d1\u5149\u9608\u503c",range:[0,1,.1]})],i.prototype,"glowThreshold",null),__decorate([a()],i.prototype,"_glowFlash",void 0),__decorate([a({tooltip:"\u53d1\u5149\u95ea\u70c1\u901f\u5ea6"})],i.prototype,"glowFlash",null),__decorate([r("lcc$render.EffectGlowOutter"),o("i18n:lcc-render.menu_component/EffectGlowOutter")],i)}(e.ShaderComponent);e.EffectGlowOutter=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._degree=0,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderDegree=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"degree",{get:function(){return this._degree},set:function(e){this._degree!=e&&(this._degree=e,this.shaderDegree.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,this.shaderSpriteFrame=t)),this.shaderDegree||(this.shaderDegree=this.getShaderComponent(e.ShaderFloat,"degree"),this.shaderDegree||((t=this.addComponent(e.ShaderFloat)).tag="degree",t._valueVar.attrMacro.name="ATTR_DEGREE",t._valueVar.attrName="a_degree",t._valueVar.unifMacro.name="UNIF_DEGREE",t._valueVar.unifName="u_degree",this.shaderDegree=t,t.value=this._degree)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a()],i.prototype,"_degree",void 0),__decorate([a({tooltip:"\u9a6c\u8d5b\u514b\u7a0b\u5ea6",range:[0,1,.01]})],i.prototype,"degree",null),__decorate([r("lcc$render.EffectMosaic"),o("i18n:lcc-render.menu_component/EffectMosaic")],i)}(e.ShaderComponent);e.EffectMosaic=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._outlineColor=cc.Color.RED,e._outlineWidth=.002,e._glowFlash=0,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderOutlineColor=null,e.shaderOutlineWidth=null,e.shaderGlowFlash=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(e){this._outlineColor=e,this.shaderOutlineColor.color=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!=e&&(this._outlineWidth=e,this.shaderOutlineWidth.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"glowFlash",{get:function(){return this._glowFlash},set:function(e){this._glowFlash!=e&&(this._glowFlash=e,this.shaderGlowFlash.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,this.shaderSpriteFrame=t)),this.shaderOutlineColor||(this.shaderOutlineColor=this.getShaderComponent(e.ShaderColor,"outlineColor"),this.shaderOutlineColor||((t=this.addComponent(e.ShaderColor)).tag="outlineColor",t.applyNodeColor=!1,t._colorVar.attrMacro.name="ATTR_OUTLINECOLOR",t._colorVar.attrName="a_outlineColor",t._colorVar.unifMacro.name="UNIF_OUTLINECOLOR",t._colorVar.unifName="u_outlineColor",this.shaderOutlineColor=t,t.color=this._outlineColor)),this.shaderOutlineWidth||(this.shaderOutlineWidth=this.getShaderComponent(e.ShaderFloat,"outlineWidth"),this.shaderOutlineWidth||((t=this.addComponent(e.ShaderFloat)).tag="outlineWidth",t._valueVar.attrMacro.name="ATTR_OUTLINEWIDTH",t._valueVar.attrName="a_outlineWidth",t._valueVar.unifMacro.name="UNIF_OUTLINEWIDTH",t._valueVar.unifName="u_outlineWidth",this.shaderOutlineWidth=t,t.value=this._outlineWidth)),this.shaderGlowFlash||(this.shaderGlowFlash=this.getShaderComponent(e.ShaderFloat,"glowFlash"),this.shaderGlowFlash||((t=this.addComponent(e.ShaderFloat)).tag="glowFlash",t._valueVar.attrMacro.name="ATTR_GLOWFLASH",t._valueVar.attrName="a_glowFlash",t._valueVar.unifMacro.name="UNIF_GLOWFLASH",t._valueVar.unifName="u_glowFlash",this.shaderGlowFlash=t,t.value=this._glowFlash)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a(cc.Color)],i.prototype,"_outlineColor",void 0),__decorate([a({type:cc.Color,tooltip:"\u63cf\u8fb9\u989c\u8272"})],i.prototype,"outlineColor",null),__decorate([a()],i.prototype,"_outlineWidth",void 0),__decorate([a({tooltip:"\u63cf\u8fb9\u5bbd\u5ea6",range:[0,1,.01]})],i.prototype,"outlineWidth",null),__decorate([a()],i.prototype,"_glowFlash",void 0),__decorate([a({tooltip:"\u95ea\u70c1\u901f\u5ea6"})],i.prototype,"glowFlash",null),__decorate([r("lcc$render.EffectOutline"),o("i18n:lcc-render.menu_component/EffectOutline")],i)}(e.ShaderComponent);e.EffectOutline=i}(lcc$render||(lcc$render={})),function(e){var t,r=cc._decorator,a=r.ccclass,o=r.property,i=r.menu;(function(e){e[e.OLD=0]="OLD",e[e.GRAY=1]="GRAY",e[e.REVERSAL=2]="REVERSAL",e[e.FROZEN=3]="FROZEN",e[e.CARTOON=4]="CARTOON"})(t||(t={}));var n=function(r){function n(){var e=null!==r&&r.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._colorType=t.OLD,e._degree=1,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderColorType=null,e.shaderDegree=null,e}return __extends(n,r),Object.defineProperty(n.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType!=e&&(this._colorType=e,this.shaderColorType.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"degree",{get:function(){return this._degree},set:function(e){this._degree!=e&&(this._degree=e,this.shaderDegree.value=e)},enumerable:!1,configurable:!0}),n.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,this.shaderSpriteFrame=t)),this.shaderColorType||(this.shaderColorType=this.getShaderComponent(e.ShaderFloat,"colorType"),this.shaderColorType||((t=this.addComponent(e.ShaderFloat)).tag="colorType",t._valueVar.attrMacro.name="ATTR_COLORTYPE",t._valueVar.attrName="a_colorType",t._valueVar.unifMacro.name="UNIF_COLORTYPE",t._valueVar.unifName="u_colorType",this.shaderColorType=t,t.value=this._colorType)),this.shaderDegree||(this.shaderDegree=this.getShaderComponent(e.ShaderFloat,"degree"),this.shaderDegree||((t=this.addComponent(e.ShaderFloat)).tag="degree",t._valueVar.attrMacro.name="ATTR_DEGREE",t._valueVar.attrName="a_degree",t._valueVar.unifMacro.name="UNIF_DEGREE",t._valueVar.unifName="u_degree",this.shaderDegree=t,t.value=this._degree)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem))),this.checkMaterial()},n.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([o(cc.Material)],n.prototype,"_material",void 0),__decorate([o({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],n.prototype,"material",null),__decorate([o(cc.SpriteFrame)],n.prototype,"_spriteFrame",void 0),__decorate([o({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],n.prototype,"spriteFrame",null),__decorate([o({type:cc.Enum(t)})],n.prototype,"_colorType",void 0),__decorate([o({tooltip:"\u989c\u8272\u7c7b\u578b",type:cc.Enum(t)})],n.prototype,"colorType",null),__decorate([o()],n.prototype,"_degree",void 0),__decorate([o({tooltip:"\u7a0b\u5ea6",range:[0,1,.01]})],n.prototype,"degree",null),__decorate([a("lcc$render.EffectPhoto"),i("i18n:lcc-render.menu_component/EffectPhoto")],n)}(e.ShaderComponent);e.EffectPhoto=n}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._density=15,e._change=!0,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderDensity=null,e.shaderChange=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"density",{get:function(){return this._density},set:function(e){this._density!=e&&(this._density=e,this.shaderDensity.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"change",{get:function(){return this._change},set:function(e){this._change!=e&&(this._change=e,this.shaderChange.value=e?1:0)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,t.applyFrameSize=!0,this.shaderSpriteFrame=t)),this.shaderDensity||(this.shaderDensity=this.getShaderComponent(e.ShaderFloat,"density"),this.shaderDensity||((t=this.addComponent(e.ShaderFloat)).tag="density",t._valueVar.attrMacro.name="ATTR_DENSITY",t._valueVar.attrName="a_density",t._valueVar.unifMacro.name="UNIF_DENSITY",t._valueVar.unifName="u_density",this.shaderDensity=t,t.value=this._density)),this.shaderChange||(this.shaderChange=this.getShaderComponent(e.ShaderFloat,"change"),this.shaderChange||((t=this.addComponent(e.ShaderFloat)).tag="change",t._valueVar.attrMacro.name="ATTR_CHANGE",t._valueVar.attrName="a_change",t._valueVar.unifMacro.name="UNIF_CHANGE",t._valueVar.unifName="u_change",this.shaderChange=t,t.value=this._change?1:0)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a()],i.prototype,"_density",void 0),__decorate([a({tooltip:"\u5bc6\u5ea6"})],i.prototype,"density",null),__decorate([a()],i.prototype,"_change",void 0),__decorate([a({tooltip:"\u52a8\u6001\u6539\u53d8"})],i.prototype,"change",null),__decorate([r("lcc$render.EffectRainDropRipples"),o("i18n:lcc-render.menu_component/EffectRainDropRipples")],i)}(e.ShaderComponent);e.EffectRainDropRipples=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._degree=.5,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderDegree=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"degree",{get:function(){return this._degree},set:function(e){this._degree!=e&&(this._degree=e,this.shaderDegree.value=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,t.applyUVRect=!0,t.applyFrameSize=!0,this.shaderSpriteFrame=t)),this.shaderDegree||(this.shaderDegree=this.getShaderComponent(e.ShaderFloat,"degree"),this.shaderDegree||((t=this.addComponent(e.ShaderFloat)).tag="degree",t._valueVar.attrMacro.name="ATTR_DEGREE",t._valueVar.attrName="a_degree",t._valueVar.unifMacro.name="UNIF_DEGREE",t._valueVar.unifName="u_degree",this.shaderDegree=t,t.value=this._degree)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a()],i.prototype,"_degree",void 0),__decorate([a({tooltip:"\u7a0b\u5ea6",range:[0,1,.01]})],i.prototype,"degree",null),__decorate([r("lcc$render.EffectRoundCornerCrop"),o("i18n:lcc-render.menu_component/EffectRoundCornerCrop")],i)}(e.ShaderComponent);e.EffectRoundCornerCrop=i}(lcc$render||(lcc$render={})),function(e){var t,r=cc._decorator,a=r.ccclass,o=r.property,i=r.menu;(function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.TOP_TO_BOTTOM=2]="TOP_TO_BOTTOM",e[e.BOTTOM_TO_TOP=3]="BOTTOM_TO_TOP"})(t||(t={}));var n=function(r){function n(){var e=null!==r&&r.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._fadeWidth=.2,e._fadeDirect=t.LEFT_TO_RIGHT,e._degree=.5,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderFadeWidth=null,e.shaderFadeDirect=null,e.shaderDegree=null,e}return __extends(n,r),Object.defineProperty(n.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fadeWidth",{get:function(){return this._fadeWidth},set:function(e){this._fadeWidth!=e&&(this._fadeWidth=e,this.shaderFadeWidth.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fadeDirect",{get:function(){return this._fadeDirect},set:function(e){this._fadeDirect!=e&&(this._fadeDirect=e,this.shaderFadeDirect.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"degree",{get:function(){return this._degree},set:function(e){this._degree!=e&&(this._degree=e,this.shaderDegree.value=e)},enumerable:!1,configurable:!0}),n.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyShape=!0,t.applyUV=!0,this.shaderSpriteFrame=t)),this.shaderFadeWidth||(this.shaderFadeWidth=this.getShaderComponent(e.ShaderFloat,"fadeWidth"),this.shaderFadeWidth||((t=this.addComponent(e.ShaderFloat)).tag="fadeWidth",t._valueVar.attrMacro.name="ATTR_FADEWIDTH",t._valueVar.attrName="a_fadeWidth",t._valueVar.unifMacro.name="UNIF_FADEWIDTH",t._valueVar.unifName="u_fadeWidth",this.shaderFadeWidth=t,t.value=this._fadeWidth)),this.shaderFadeDirect||(this.shaderFadeDirect=this.getShaderComponent(e.ShaderFloat,"fadeDirect"),this.shaderFadeDirect||((t=this.addComponent(e.ShaderFloat)).tag="fadeDirect",t._valueVar.attrMacro.name="ATTR_FADEDIRECT",t._valueVar.attrName="a_fadeDirect",t._valueVar.unifMacro.name="UNIF_FADEDIRECT",t._valueVar.unifName="u_fadeDirect",this.shaderFadeDirect=t,t.value=this._fadeDirect)),this.shaderDegree||(this.shaderDegree=this.getShaderComponent(e.ShaderFloat,"degree"),this.shaderDegree||((t=this.addComponent(e.ShaderFloat)).tag="degree",t._valueVar.attrMacro.name="ATTR_DEGREE",t._valueVar.attrName="a_degree",t._valueVar.unifMacro.name="UNIF_DEGREE",t._valueVar.unifName="u_degree",this.shaderDegree=t,t.value=this._degree)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem))),this.checkMaterial()},n.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([o(cc.Material)],n.prototype,"_material",void 0),__decorate([o({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],n.prototype,"material",null),__decorate([o(cc.SpriteFrame)],n.prototype,"_spriteFrame",void 0),__decorate([o({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],n.prototype,"spriteFrame",null),__decorate([o()],n.prototype,"_fadeWidth",void 0),__decorate([o({tooltip:"\u8fc7\u6e21\u5bbd\u5ea6",range:[0,1,.01]})],n.prototype,"fadeWidth",null),__decorate([o({type:cc.Enum(t)})],n.prototype,"_fadeDirect",void 0),__decorate([o({tooltip:"\u8fc7\u6e21\u65b9\u5411",type:cc.Enum(t)})],n.prototype,"fadeDirect",null),__decorate([o()],n.prototype,"_degree",void 0),__decorate([o({tooltip:"\u7a0b\u5ea6",range:[0,1,.01]})],n.prototype,"degree",null),__decorate([a("lcc$render.EffectSmoothTransform"),i("i18n:lcc-render.menu_component/EffectSmoothTransform")],n)}(e.ShaderComponent);e.EffectSmoothTransform=n}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=null,e._spriteFrame=null,e._maskFrame=null,e.renderSystem=null,e.shaderSpriteFrame=null,e.shaderMaskFrame=null,e}return __extends(i,t),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},set:function(e){this._material!=e&&(this._material=e,this.renderSystem.setMaterial(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame!=e&&(this._spriteFrame=e,this.shaderSpriteFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maskFrame",{get:function(){return this._maskFrame},set:function(e){this._maskFrame!=e&&(this._maskFrame=e,this.shaderMaskFrame.spriteFrame=e)},enumerable:!1,configurable:!0}),i.prototype.onEnable=function(){var t;this.shaderSpriteFrame||(this.shaderSpriteFrame=this.getShaderComponent(e.ShaderSpriteFrame,"spriteframe"),this.shaderSpriteFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="spriteframe",t.applyUV=!0,t.applyShape=!0,this.shaderSpriteFrame=t)),this.shaderMaskFrame||(this.shaderMaskFrame=this.getShaderComponent(e.ShaderSpriteFrame,"maskframe"),this.shaderMaskFrame||((t=this.addComponent(e.ShaderSpriteFrame)).tag="maskframe",t.applyUV=!0,t._textureVar.unifMacro.name="USE_MASK",t._textureVar.unifName="mask",t._uvVar.attrMacro.name="USE_MASK",t._uvVar.attrName="a_uv1",this.shaderMaskFrame=t)),this.renderSystem||(this.renderSystem=this.getComponent(e.RenderSystem),this.renderSystem||(this.renderSystem=this.addComponent(e.RenderSystem)))},i.prototype.checkMaterial=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:(void 0).material=e.sent(),e.label=2;case 2:return[2]}})})},__decorate([a(cc.Material)],i.prototype,"_material",void 0),__decorate([a({type:cc.Material,tooltip:"\u6548\u679c\u6750\u8d28"})],i.prototype,"material",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_spriteFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u7cbe\u7075\u5e27"})],i.prototype,"spriteFrame",null),__decorate([a(cc.SpriteFrame)],i.prototype,"_maskFrame",void 0),__decorate([a({type:cc.SpriteFrame,tooltip:"\u6548\u679c\u906e\u7f69\u5e27"})],i.prototype,"maskFrame",null),__decorate([r("lcc$render.EffectSpriteMask"),o("i18n:lcc-render.menu_component/EffectSpriteMask")],i)}(e.ShaderComponent);e.EffectSpriteMask=i}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=cc.gfx,n=cc.color(),s=function(t){function s(){var r=null!==t&&t.apply(this,arguments)||this;return r._tag="color",r._colorVar=new e.VariableConfig(!0,e.VariableType.UNIFORM,"ATTR_COLOR",!1,"a_color","UNIF_COLOR",!1,"u_color"),r._applyNodeColor=!0,r.nodeColor=cc.Color.WHITE,r._colorType=e.ValueType.SINGLE,r._color=cc.Color.WHITE,r._vertexColors=[],r._colorOffset=0,r}return __extends(s,t),Object.defineProperty(s.prototype,"colorVar",{get:function(){return this._colorVar},set:function(t){this._colorVar=t,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"),this.colorVar.type==e.VariableType.UNIFORM&&(this._colorType=e.ValueType.SINGLE)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"applyNodeColor",{get:function(){return this._applyNodeColor},set:function(t){this._applyNodeColor!=t&&(this._applyNodeColor=t,this.onNodeColorChanged(),t||this.checkVertexColors(),this._colorVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorType",{get:function(){return this._colorType},set:function(t){this._colorType!=t&&(this._colorType=t,this.checkVertexColors(),this._colorVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this._colorVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertexColors",{get:function(){return this._vertexColors},set:function(t){this._vertexColors=t,this.checkVertexColors(),this._colorVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),s.prototype.onLoad=function(){this.node.on("render_shape_checked",this.checkVertexColors,this),this.node.on("render_update_material",this.onRenderUpdateMaterial,this),this.node.on("render_update_attribute",this.onRenderUpdateAttribute,this),this.node.on("render_update_vertex",this.onRenderUpdateRenderData,this),this.node.on(cc.Node.EventType.COLOR_CHANGED,this.onNodeColorChanged,this)},s.prototype.onDestroy=function(){this.node.targetOff(this)},s.prototype.onEnable=function(){this.onNodeColorChanged(),this.onStateUpdate(!0)},s.prototype.onDisable=function(){this.onStateUpdate(!1)},s.prototype.onStateUpdate=function(){this.node.emit("shader_update_tag"),this._colorVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_attribute"):this.onRenderUpdateMaterial(),this._applyNodeColor?this.onNodeColorChanged():this.checkVertexColors()},s.prototype.checkVertexColors=function(){if(this.enabled)if(this._colorType==e.ValueType.VERTEX){var t=this.getComponent(e.RenderSystem);if(t){var r=this._vertexColors,a=t._verticesCount;r.length=a;for(var o=0;o<a;o++)null==r[o]&&(r[o]=cc.Color.WHITE)}}else this._vertexColors=[]},s.prototype.onNodeColorChanged=function(){this._applyNodeColor&&(this._colorVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},s.prototype.premultiplyAlpha=function(e){return cc.Color.premultiplyAlpha(n,e),n._val},s.prototype.getAttributeColors=function(t){var r=t._verticesCount,a=t._srcBlendFactor===cc.macro.BlendFactor.ONE,o=[];if(this._applyNodeColor){var i=a?this.premultiplyAlpha(this.node._color):this.node._color._val;o.push(i)}else if(this._colorType===e.ValueType.SINGLE)i=a?this.premultiplyAlpha(this._color):this._color._val,o.push(i);else for(var n=0;n<r;n++){var s=this._vertexColors[n];o.push(a?this.premultiplyAlpha(s):s._val)}return o},s.prototype.getUniformColor=function(e){var t=e._srcBlendFactor===cc.macro.BlendFactor.ONE,r=null;return r=this._applyNodeColor?this.node._color:this._color,t&&(cc.Color.premultiplyAlpha(n,r),r=n),new cc.Vec4(r.r/255,r.g/255,r.b/255,r.a/255)},s.prototype.onRenderUpdateMaterial=function(t){if(t=t||this.getComponent(cc.RenderComponent)){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._colorVar.unifMacro)&&(this.enabled&&this._colorVar.type===e.VariableType.UNIFORM?(this.defineMaterialMacro(r,this._colorVar.unifMacro,!0),r.setProperty(this._colorVar.unifName,this.getUniformColor(t))):this.defineMaterialMacro(r,this._colorVar.unifMacro,!1))}},s.prototype.onRenderUpdateAttribute=function(t){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._colorVar.attrMacro)&&(this.enabled&&this._colorVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._colorVar.attrMacro,!0),this._colorOffset=t.addVertexAttribute({name:this._colorVar.attrName,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0},1)):(this.defineMaterialMacro(r,this._colorVar.attrMacro,!1),this._colorOffset=0))},s.prototype.onRenderUpdateRenderData=function(e){if(this.enabled&&this._colorOffset>0){var t=e._assembler,r=t.renderData.uintVDatas[0];if(r)for(var a=this.getAttributeColors(e),o=a.length,i=this._colorOffset,n=t.floatsPerVert,s=i,l=r.length,p=0;s<l;s+=n,p++)r[s]=p<o?a[p]:a[0]}},__decorate([a(e.VariableConfig)],s.prototype,"_colorVar",void 0),__decorate([a({type:e.VariableConfig,tooltip:"\u989c\u8272\u53d8\u91cf"})],s.prototype,"colorVar",null),__decorate([a()],s.prototype,"_applyNodeColor",void 0),__decorate([a({tooltip:"\u5e94\u7528\u8282\u70b9\u7684\u989c\u8272"})],s.prototype,"applyNodeColor",null),__decorate([a({visible:function(){return this._applyNodeColor},readonly:!0,tooltip:"\u8282\u70b9\u7684\u989c\u8272",editorOnly:!0})],s.prototype,"nodeColor",void 0),__decorate([a({type:cc.Enum(e.ValueType)})],s.prototype,"_colorType",void 0),__decorate([a({visible:function(){return!this._applyNodeColor&&this._colorVar.type!=e.VariableType.UNIFORM},type:cc.Enum(e.ValueType),tooltip:"\u989c\u8272\u7c7b\u578b"})],s.prototype,"colorType",null),__decorate([a(cc.Color)],s.prototype,"_color",void 0),__decorate([a({visible:function(){return!this._applyNodeColor&&this._colorType==e.ValueType.SINGLE},type:cc.Color,tooltip:"\u989c\u8272\u503c"})],s.prototype,"color",null),__decorate([a([cc.Color])],s.prototype,"_vertexColors",void 0),__decorate([a({visible:function(){return!this._applyNodeColor&&this._colorType==e.ValueType.VERTEX},type:[cc.Color],tooltip:"\u9876\u70b9\u989c\u8272"})],s.prototype,"vertexColors",null),__decorate([r("lcc$render.ShaderColor"),o("i18n:lcc-render.menu_component/ShaderColor")],s)}(e.ShaderComponent);e.ShaderColor=s}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=cc.gfx,n={tag:"value",varSelect:!0,varDeftype:e.VariableType.UNIFORM,varAttrMacro:"ATTR_FLOAT",varAttrMacroCheckOnly:!1,varAttrName:"a_float",varUnifMacro:"UNIF_FLOAT",varUnifMacroCheckOnly:!1,varUnifName:"u_float",valDefault:0,valNew:function(){return 0},valType:cc.Float,typeSize:1,toArray:function(e,t,r){e[r]=t}},s=function(t){function s(){var r=null!==t&&t.apply(this,arguments)||this;return r._tag=n.tag,r._valueVar=new e.VariableConfig(n.varSelect,n.varDeftype,n.varAttrMacro,n.varAttrMacroCheckOnly,n.varAttrName,n.varUnifMacro,n.varUnifMacroCheckOnly,n.varUnifName),r._valueType=e.ValueType.SINGLE,r._value=n.valNew(),r._vertexValues=[],r._valueOffset=0,r}return __extends(s,t),Object.defineProperty(s.prototype,"valueVar",{get:function(){return this._valueVar},set:function(e){this._valueVar=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType!=t&&(this._valueType=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertexValues",{get:function(){return this._vertexValues},set:function(t){this._vertexValues=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),s.prototype.onLoad=function(){this.node.on("render_shape_checked",this.checkVertexValues,this),this.node.on("render_update_material",this.onRenderUpdateMaterial,this),this.node.on("render_update_attribute",this.onRenderUpdateAttribute,this),this.node.on("render_update_vertex",this.onRenderUpdateRenderData,this)},s.prototype.onDestroy=function(){this.node.targetOff(this)},s.prototype.onEnable=function(){this.onStateUpdate(!0)},s.prototype.onDisable=function(){this.onStateUpdate(!1)},s.prototype.onStateUpdate=function(){this.node.emit("shader_update_tag"),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_attribute"):this.onRenderUpdateMaterial(),this.checkVertexValues()},s.prototype.checkVertexValues=function(){if(this.enabled)if(this._valueType==e.ValueType.VERTEX){var t=this.getComponent(e.RenderSystem);if(t){for(var r=this._vertexValues,a=t._verticesCount,o=0;o<a;o++)null==r[o]&&(r[o]=n.valNew());r.length>a&&(this._vertexValues=r.slice(0,a))}}else this._vertexValues=[]},s.prototype.onRenderUpdateMaterial=function(t){if(t=t||this.getComponent(cc.RenderComponent)){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.unifMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.UNIFORM?(this.defineMaterialMacro(r,this._valueVar.unifMacro,!0),r.setProperty(this._valueVar.unifName,this._value)):this.defineMaterialMacro(r,this._valueVar.unifMacro,!1))}},s.prototype.getAttributeValues=function(t){var r=[];if(this._valueType===e.ValueType.SINGLE)n.toArray(r,this._value,0);else for(var a=t._verticesCount,o=0;o<a;o++)n.toArray(r,this._vertexValues[o]||n.valNew(),r.length);return r},s.prototype.onRenderUpdateAttribute=function(t){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.attrMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._valueVar.attrMacro,!0),this._valueOffset=t.addVertexAttribute({name:this._valueVar.attrName,type:i.ATTR_TYPE_FLOAT32,num:n.typeSize},n.typeSize)):(this.defineMaterialMacro(r,this._valueVar.attrMacro,!1),this._valueOffset=0))},s.prototype.onRenderUpdateRenderData=function(e){if(this.enabled&&this._valueOffset>0)for(var t=e._assembler,r=this.getAttributeValues(e),a=r.length,o=this._valueOffset,i=t.floatsPerVert,s=t.renderData.vDatas[0],l=0;l<4;l++){var p=i*l+o,h=n.typeSize*l;h>=a&&(h=0);for(var c=0;c<n.typeSize;c++)s[p+c]=r[h+c]}},__decorate([a(e.VariableConfig)],s.prototype,"_valueVar",void 0),__decorate([a({type:e.VariableConfig,tooltip:"\u503c\u53d8\u91cf"})],s.prototype,"valueVar",null),__decorate([a({type:cc.Enum(e.ValueType)})],s.prototype,"_valueType",void 0),__decorate([a({visible:function(){return this._valueVar.type!=e.VariableType.UNIFORM},type:cc.Enum(e.ValueType),tooltip:"\u503c\u7c7b\u578b"})],s.prototype,"valueType",null),__decorate([a(n.valType)],s.prototype,"_value",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.SINGLE},type:n.valType,tooltip:"\u503c"})],s.prototype,"value",null),__decorate([a([n.valType])],s.prototype,"_vertexValues",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.VERTEX},type:[n.valType],tooltip:"\u9876\u70b9\u503c"})],s.prototype,"vertexValues",null),__decorate([r("lcc$render.ShaderFloat"),o("i18n:lcc-render.menu_component/ShaderFloat")],s)}(e.ShaderComponent);e.ShaderFloat=s}(lcc$render||(lcc$render={})),function(e){var t,r=cc._decorator,a=r.ccclass,o=r.property,i=r.menu;(function(e){e[e.BOOL=0]="BOOL",e[e.VALUE=1]="VALUE"})(t||(t={}));var n=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._tag="macro",r._checkMacro="",r._macroName="",r._valueType=t.BOOL,r._bool=!1,r._value=0,r}return __extends(r,e),Object.defineProperty(r.prototype,"checkMacro",{get:function(){return this._checkMacro},set:function(e){this._checkMacro!=e&&(this._checkMacro=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"macroName",{get:function(){return this._macroName},set:function(e){this._macroName!=e&&(this._macroName=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valueType",{get:function(){return this._valueType},set:function(e){this._valueType!=e&&(this._valueType=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bool",{get:function(){return this._bool},set:function(e){this._bool!=e&&(this._bool=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(e){this._value!=e&&(this._value=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),r.prototype.onLoad=function(){this.node.on("render_update_material",this.onRenderUpdateMaterial,this)},r.prototype.onDestroy=function(){this.node.targetOff(this)},r.prototype.onEnable=function(){this.onStateUpdate(!0)},r.prototype.onDisable=function(){this.onStateUpdate(!1)},r.prototype.onStateUpdate=function(){this.node.emit("shader_update_tag"),this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},r.prototype.onRenderUpdateMaterial=function(e){if((e=e||this.getComponent(cc.RenderComponent))&&this._macroName){var r=e._materials[0];r&&(this._checkMacro&&!r.getDefine(this._checkMacro)||this.enabled&&void 0!==r.getDefine(this._macroName)&&(this._valueType==t.BOOL?r.define(this._macroName,this._bool):r.define(this._macroName,this._value)))}},__decorate([o()],r.prototype,"_checkMacro",void 0),__decorate([o({tooltip:"\u68c0\u6d4b\u5b8f"})],r.prototype,"checkMacro",null),__decorate([o()],r.prototype,"_macroName",void 0),__decorate([o({tooltip:"\u5b9a\u4e49\u5b8f"})],r.prototype,"macroName",null),__decorate([o({type:cc.Enum(t)})],r.prototype,"_valueType",void 0),__decorate([o({type:cc.Enum(t),tooltip:"\u503c\u7c7b\u578b"})],r.prototype,"valueType",null),__decorate([o()],r.prototype,"_bool",void 0),__decorate([o({visible:function(){return this._valueType==t.BOOL},tooltip:"\u5e03\u5c14\u5b8f\u503c"})],r.prototype,"bool",null),__decorate([o()],r.prototype,"_value",void 0),__decorate([o({visible:function(){return this._valueType==t.VALUE},tooltip:"\u6570\u503c\u5b8f\u503c"})],r.prototype,"value",null),__decorate([a("lcc$render.ShaderMacro"),i("i18n:lcc-render.menu_component/ShaderMacro")],r)}(e.ShaderComponent);e.ShaderMacro=n}(lcc$render||(lcc$render={})),function(e){var t,r,a=cc._decorator,o=a.ccclass,i=a.property,n=a.menu,s=cc.gfx;(function(e){e[e.NODE=0]="NODE",e[e.CUSTOM=1]="CUSTOM"})(t||(t={})),function(e){e[e.CUSTOM=0]="CUSTOM",e[e.TRIMMED=1]="TRIMMED",e[e.RAW=2]="RAW"}(r||(r={}));var l=function(a){function l(){var o=null!==a&&a.apply(this,arguments)||this;return o._tag="spriteframe",o._textureVar=new e.VariableConfig(!1,e.VariableType.UNIFORM,"",!1,"","USE_TEXTURE",!1,"texture"),o._atlas=null,o._spriteFrame=null,o._applyShape=!1,o._shapeType=t.NODE,o._size=cc.size(0,0),o._anchor=cc.v2(.5,.5),o._syncSizeToNode=!0,o._sizeMode=r.TRIMMED,o._isTrimmedMode=!0,o._applyUV=!1,o._uvVar=new e.VariableConfig(!1,e.VariableType.ATTRIBUTE,"USE_TEXTURE",!0,"a_uv0","",!1,""),o._customUV=!1,o._uvIndexes=[],o._applyUVRect=!1,o._uvRectVar=new e.VariableConfig(!0,e.VariableType.UNIFORM,"ATTR_UVRECT",!1,"a_uvrect","UNIF_UVRECT",!1,"u_uvrect"),o._applyFrameSize=!1,o._frameSizeVar=new e.VariableConfig(!0,e.VariableType.UNIFORM,"ATTR_FRAMESIZE",!1,"a_framesize","UNIF_FRAMESIZE",!1,"u_framesize"),o._shapeRect=null,o._uvOffest=0,o._uvrOffset=0,o._fsOffset=0,o}return __extends(l,a),Object.defineProperty(l.prototype,"textureVar",{get:function(){return this._textureVar},set:function(e){this._textureVar=e,this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){if(this._spriteFrame!==e){var t=this._spriteFrame;if(t===e)return;this._spriteFrame=e,this._applySpriteFrame(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"applyShape",{get:function(){return this._applyShape},set:function(e){this._applyShape!==e&&(this._applyShape=e,e&&this.node.emit("shader_applyshape",this),this.node.emit("shader_update_shape"),this._applySpriteSize())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"shapeType",{get:function(){return this._shapeType},set:function(e){this._shapeType!==e&&(this._shapeType=e,this.node.emit("shader_update_vertex"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e,this._sizeMode=r.CUSTOM,this.node.emit("shader_update_vertex"),this._syncSizeToNode&&this.node.setContentSize(this._size)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor=e,this.node.emit("shader_update_vertex"),this._syncSizeToNode&&this.node.setAnchorPoint(this._anchor)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"syncSizeToNode",{get:function(){return this._syncSizeToNode},set:function(e){this._syncSizeToNode!==e&&(this._syncSizeToNode=e,this.node.setContentSize(this._size),this.node.setAnchorPoint(this._anchor))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"sizeMode",{get:function(){return this._sizeMode},set:function(e){this._sizeMode!==e&&(this._sizeMode=e,this._applySpriteSize())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"trim",{get:function(){return this._isTrimmedMode},set:function(e){this._isTrimmedMode!==e&&(this._isTrimmedMode=e,this.node.emit("shader_update_vertex"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"applyUV",{get:function(){return this._applyUV},set:function(e){this._applyUV!==e&&(this._applyUV=e,this.checkUVIndexes(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"uvVar",{get:function(){return this._uvVar},set:function(e){this._uvVar=e,this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"customUV",{get:function(){return this._customUV},set:function(e){this._customUV!==e&&(this._customUV=e,this.checkUVIndexes(),this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"uvIndexes",{get:function(){return this._uvIndexes},set:function(e){this._uvIndexes=e,this.checkUVIndexes(),this.node.emit("shader_update_vertex")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"applyUVRect",{get:function(){return this._applyUVRect},set:function(e){this._applyUVRect!==e&&(this._applyUVRect=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"uvRectVar",{get:function(){return this._uvRectVar},set:function(e){this._uvRectVar=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"applyFrameSize",{get:function(){return this._applyFrameSize},set:function(e){this._applyFrameSize!==e&&(this._applyFrameSize=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"frameSizeVar",{get:function(){return this._frameSizeVar},set:function(e){this._frameSizeVar=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),l.prototype.onLoad=function(){this._spriteFrame&&this._spriteFrame.ensureLoadTexture(),this.node.on("shader_applyshape",this.onShaderApplyShape,this),this.node.on("render_check_shape",this.onRenderCheckShape,this),this.node.on("render_shape_checked",this.checkUVIndexes,this),this.node.on("render_prepare",this.onRenderPrepare,this),this.node.on("render_update_material",this.onRenderUpdateMaterial,this),this.node.on("render_update_attribute",this.onRenderUpdateAttribute,this),this.node.on("render_update_shape",this.onRenderUpdateShape,this),this.node.on("render_update_vertex",this.onRenderUpdateVertex,this),this.node.on("render_update_worldvertex",this.updateWorldVerts,this),this.node.on("render_validate_render",this.onRenderValidateRender,this)},l.prototype.onDestroy=function(){this.node.targetOff(this)},l.prototype.onEnable=function(){this.onStateUpdate(!0)},l.prototype.onDisable=function(){this.onStateUpdate(!1)},l.prototype.onStateUpdate=function(e){this.node.emit("shader_update_tag"),this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute"),e&&this._applySpriteFrame(null),this.checkUVIndexes()},l.prototype.checkUVIndexes=function(){if(this.enabled)if(this._applyUV)if(this._customUV){var t=this.getComponent(e.RenderSystem);if(t){for(var r=this._uvIndexes,a=t._verticesCount,o=0;o<a;o++){var i=r[o];null==i?r[o]=o%4:i>3?r[o]=3:i<0&&(r[o]=0)}r.length>a&&(this._uvIndexes=r.slice(0,a))}}else this._uvIndexes=[];else this._uvIndexes=[]},l.prototype.onShaderApplyShape=function(e){this.enabled&&this!==e&&(this._applyShape=!1)},l.prototype.onRenderCheckShape=function(e){this.enabled&&this._applyShape&&e.setShaderShape(4,6)},l.prototype.onRenderPrepare=function(e){this.enabled&&this.packToDynamicAtlas(e,this._spriteFrame)},l.prototype.getUVRect=function(){var e=new cc.Vec4;if(this._spriteFrame){var t=this._spriteFrame.uv,r=t[0],a=t[1],o=t[6]-r,i=t[7]-a;e.x=r,e.y=a,e.z=o,e.w=i}return e},l.prototype.onRenderUpdateMaterial=function(t){if(t=t||this.getComponent(e.RenderSystem)){var r=this._spriteFrame&&this._spriteFrame.getTexture(),a=t._materials[0];if(a&&(this.checkMaterialMacro(a,this._textureVar.unifMacro)&&(this.enabled?(this.defineMaterialMacro(a,this._textureVar.unifMacro,!0),a.setProperty(this._textureVar.unifName,r)):this.defineMaterialMacro(a,this._textureVar.unifMacro,!1)),this.checkMaterialMacro(a,this._uvRectVar.unifMacro)&&(this.enabled&&this._applyUVRect&&this._uvRectVar.type===e.VariableType.UNIFORM?(this.defineMaterialMacro(a,this._uvRectVar.unifMacro,!0),a.setProperty(this._uvRectVar.unifName,this.getUVRect(t))):this.defineMaterialMacro(a,this._uvRectVar.unifMacro,!1)),this.checkMaterialMacro(a,this._frameSizeVar.unifMacro)))if(this.enabled&&this._applyFrameSize&&this._frameSizeVar.type===e.VariableType.UNIFORM)if(this.defineMaterialMacro(a,this._frameSizeVar.unifMacro,!0),this._spriteFrame){var o=this._spriteFrame._rect;a.setProperty(this._frameSizeVar.unifName,cc.v2(o.width,o.height))}else a.setProperty(this._frameSizeVar.unifName,cc.v2(1,1));else this.defineMaterialMacro(a,this._frameSizeVar.unifMacro,!1)}},l.prototype.onRenderUpdateAttribute=function(t){var r=t._materials[0];r&&(this.checkMaterialMacro(r,this._uvVar.attrMacro)&&(this.enabled&&this._applyUV?(this.defineMaterialMacro(r,this._uvVar.attrMacro,!0),this._uvOffest=t.addVertexAttribute({name:this._uvVar.attrName,type:s.ATTR_TYPE_FLOAT32,num:2},2)):(this.defineMaterialMacro(r,this._uvVar.attrMacro,!1),this._uvOffest=0)),this.checkMaterialMacro(r,this._uvRectVar.attrMacro)&&(this.enabled&&this._applyUVRect&&this._uvRectVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._uvRectVar.attrMacro,!0),this._uvrOffset=t.addVertexAttribute({name:this._uvRectVar.attrName,type:s.ATTR_TYPE_FLOAT32,num:4},4)):(this.defineMaterialMacro(r,this._uvRectVar.attrMacro,!1),this._uvrOffset=0)),this.checkMaterialMacro(r,this._frameSizeVar.attrMacro)&&(this.enabled&&this._applyFrameSize&&this._frameSizeVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._frameSizeVar.attrMacro,!0),this._fsOffset=t.addVertexAttribute({name:this._frameSizeVar.attrName,type:s.ATTR_TYPE_FLOAT32,num:2},2)):(this.defineMaterialMacro(r,this._frameSizeVar.attrMacro,!1),this._fsOffset=0)))},l.prototype.onRenderUpdateShape=function(e){if(this.enabled&&this._applyShape){var t=e._assembler.renderData;t.initQuadIndices(t.iDatas[0]),this._shapeRect=[0,0,0,0]}else this._shapeRect=null},l.prototype.onRenderUpdateVertex=function(e){if(this.enabled){var r=e._assembler;if(this._applyShape){var a=void 0,o=void 0,i=void 0,n=void 0,s=void 0,l=void 0,p=void 0,h=void 0;if(this._shapeType==t.NODE){var c=this.node;a=c.width,o=c.height,i=c.anchorX*a,n=c.anchorY*o}else a=this._size.width,o=this._size.height,i=this._anchor.x*a,n=this._anchor.y*o;if(this.trim)s=-i,l=-n,p=a-i,h=o-n;else{var d=this._spriteFrame,u=d._originalSize.width,_=d._originalSize.height,f=d._rect.width,y=d._rect.height,m=d._offset,v=a/u,g=o/_,S=m.x+(u-f)/2,b=m.x-(u-f)/2;s=S*v-i,l=(m.y+(_-y)/2)*g-n,p=a+b*v-i,h=o+(m.y-(_-y)/2)*g-n}var V=this._shapeRect;V[0]=s,V[1]=l,V[2]=p,V[3]=h,this.updateWorldVerts(e)}if(this._applyUV&&this._uvOffest>0)for(var T=this._spriteFrame.uv,F=this._uvIndexes,C=this._uvOffest,M=r.floatsPerVert,R=r.renderData.vDatas[0],O=0;O<4;O++){var U=2*(this._customUV?F[O]:O);R[D=M*O+C]=T[U],R[D+1]=T[U+1]}if(this._applyUVRect&&this._uvrOffset>0){var E=this.getUVRect(e);if(E){var N=this._uvrOffset;for(M=r.floatsPerVert,R=r.renderData.vDatas[0],O=0;O<4;O++)R[D=M*O+N]=E.x,R[D+1]=E.y,R[D+2]=E.z,R[D+3]=E.w}}if(this._applyFrameSize&&this._fsOffset>0){var A=this._spriteFrame._rect,w=this._fsOffset;for(M=r.floatsPerVert,R=r.renderData.vDatas[0],O=0;O<4;O++){var D;R[D=M*O+w]=A.width,R[D+1]=A.height}}}},l.prototype.updateWorldVerts=function(e){this.enabled&&this._applyShape&&this.updateWorldVertsWebGL(e)},l.prototype.updateWorldVertsWebGL=function(e){var t=e._assembler,r=this._shapeRect,a=t.renderData.vDatas[0],o=e.node._worldMatrix.m,i=o[0],n=o[1],s=o[4],l=o[5],p=o[12],h=o[13],c=r[0],d=r[2],u=r[1],_=r[3],f=1===i&&0===n&&0===s&&1===l,y=0,m=t.floatsPerVert;if(f)a[y]=c+p,a[y+1]=u+h,a[y+=m]=d+p,a[y+1]=u+h,a[y+=m]=c+p,a[y+1]=_+h,a[y+=m]=d+p,a[y+1]=_+h;else{var v=i*c,g=i*d,S=n*c,b=n*d,V=s*u,T=s*_,F=l*u,C=l*_;a[y]=v+V+p,a[y+1]=S+F+h,a[y+=m]=g+V+p,a[y+1]=b+F+h,a[y+=m]=v+T+p,a[y+1]=S+C+h,a[y+=m]=g+T+p,a[y+1]=b+C+h}},l.prototype.updateWorldVertsNative=function(e){var t=e._assembler,r=this._shapeRect,a=t.renderData.vDatas[0],o=t.floatsPerVert,i=r[0],n=r[2],s=r[1],l=r[3],p=0;a[p]=i,a[p+1]=s,a[p+=o]=n,a[p+1]=s,a[p+=o]=i,a[p+1]=l,a[p+=o]=n,a[p+1]=l},l.prototype.onRenderValidateRender=function(e){if(this.enabled){var t=this._spriteFrame;if(t&&t.textureLoaded())return;e.disableRender()}},l.prototype.packToDynamicAtlas=function(e,t){if(!t._original&&cc.dynamicAtlasManager&&t._texture.packable){var r=cc.dynamicAtlasManager.insertSpriteFrame(t);r&&t._setDynamicAtlasFrame(r)}var a=e._materials[0];a&&a.getProperty(this._textureVar.unifName)!==t._texture&&(this.onRenderUpdateMaterial(),this.node.emit("shader_update_vertex"))},l.prototype._applySpriteSize=function(){if(this.enabled&&this._applyShape){if(!this._spriteFrame||!this.isValid)return;if(r.RAW===this._sizeMode){var e=this._spriteFrame._originalSize;this._size=cc.size(e)}else if(r.TRIMMED===this._sizeMode){var t=this._spriteFrame._rect;this._size=cc.size(t.width,t.height)}this._syncSizeToNode&&this.node.setContentSize(this._size),this.node.emit("shader_update_vertex")}},l.prototype._applySpriteFrame=function(e){if(this.enabled){var t=e&&e.getTexture();t&&!t.loaded&&e.off("load",this._applySpriteSize,this);var r=this._spriteFrame;if(r){this.onRenderUpdateMaterial();var a=r.getTexture();a&&a.loaded?this._applySpriteSize():r.once("load",this._applySpriteSize,this)}}this.node.emit("shader_update_vertex")},l.prototype._applyAtlas=function(){},__decorate([i(e.VariableConfig)],l.prototype,"_textureVar",void 0),__decorate([i({type:e.VariableConfig,tooltip:"\u7eb9\u7406\u53d8\u91cf"})],l.prototype,"textureVar",null),__decorate([i({type:cc.SpriteAtlas,tooltip:!1,editorOnly:!0,visible:!0,animatable:!1})],l.prototype,"_atlas",void 0),__decorate([i(cc.SpriteFrame)],l.prototype,"_spriteFrame",void 0),__decorate([i({type:cc.SpriteFrame,tooltip:"\u7cbe\u7075\u5e27\u5bf9\u8c61"})],l.prototype,"spriteFrame",null),__decorate([i()],l.prototype,"_applyShape",void 0),__decorate([i({tooltip:"\u5e94\u7528\u5f62\u72b6"})],l.prototype,"applyShape",null),__decorate([i({type:cc.Enum(t)})],l.prototype,"_shapeType",void 0),__decorate([i({type:cc.Enum(t),tooltip:"\u5f62\u72b6\u7c7b\u578b",visible:function(){return this._applyShape}})],l.prototype,"shapeType",null),__decorate([i(cc.Size)],l.prototype,"_size",void 0),__decorate([i({type:cc.Size,tooltip:"\u5f62\u72b6\u7684\u5c3a\u5bf8",visible:function(){return this._applyShape&&this._shapeType==t.CUSTOM}})],l.prototype,"size",null),__decorate([i(cc.Vec2)],l.prototype,"_anchor",void 0),__decorate([i({type:cc.Vec2,tooltip:"\u5f62\u72b6\u7684\u951a\u70b9",visible:function(){return this._applyShape&&this._shapeType==t.CUSTOM}})],l.prototype,"anchor",null),__decorate([i()],l.prototype,"_syncSizeToNode",void 0),__decorate([i({tooltip:"\u540c\u6b65\u5c3a\u5bf8\u5230\u8282\u70b9",visible:function(){return this._applyShape&&this._shapeType==t.CUSTOM}})],l.prototype,"syncSizeToNode",null),__decorate([i({type:cc.Enum(r)})],l.prototype,"_sizeMode",void 0),__decorate([i({type:cc.Enum(r),visible:function(){return this._applyShape&&this._shapeType==t.CUSTOM},animatable:!1,tooltip:!1})],l.prototype,"sizeMode",null),__decorate([i()],l.prototype,"_isTrimmedMode",void 0),__decorate([i({visible:function(){return this._applyShape},animatable:!1,tooltip:!1})],l.prototype,"trim",null),__decorate([i()],l.prototype,"_applyUV",void 0),__decorate([i({tooltip:"\u5e94\u7528 UV"})],l.prototype,"applyUV",null),__decorate([i(e.VariableConfig)],l.prototype,"_uvVar",void 0),__decorate([i({type:e.VariableConfig,tooltip:"UV\u53d8\u91cf",visible:function(){return this._applyUV}})],l.prototype,"uvVar",null),__decorate([i()],l.prototype,"_customUV",void 0),__decorate([i({tooltip:"\u81ea\u5b9a\u4e49 UV",visible:function(){return this._applyUV}})],l.prototype,"customUV",null),__decorate([i([cc.Integer])],l.prototype,"_uvIndexes",void 0),__decorate([i({type:[cc.Integer],tooltip:"UV\u7d22\u5f15\u8868",visible:function(){return this._applyUV&&this._customUV}})],l.prototype,"uvIndexes",null),__decorate([i()],l.prototype,"_applyUVRect",void 0),__decorate([i({tooltip:"\u5e94\u7528UV\u533a\u57df(\u5408\u56fe\u540e\u7684\u533a\u57df)"})],l.prototype,"applyUVRect",null),__decorate([i(e.VariableConfig)],l.prototype,"_uvRectVar",void 0),__decorate([i({type:e.VariableConfig,tooltip:"UV\u533a\u57df\u53d8\u91cf",visible:function(){return this._applyUVRect}})],l.prototype,"uvRectVar",null),__decorate([i()],l.prototype,"_applyFrameSize",void 0),__decorate([i({tooltip:"\u5e94\u7528\u5e27\u5c3a\u5bf8(\u50cf\u7d20\u5927\u5c0f)"})],l.prototype,"applyFrameSize",null),__decorate([i(e.VariableConfig)],l.prototype,"_frameSizeVar",void 0),__decorate([i({type:e.VariableConfig,tooltip:"\u5e27\u5c3a\u5bf8\u53d8\u91cf",visible:function(){return this._applyFrameSize}})],l.prototype,"frameSizeVar",null),__decorate([o("lcc$render.ShaderSpriteFrame"),n("i18n:lcc-render.menu_component/ShaderSpriteFrame")],l)}(e.ShaderComponent);e.ShaderSpriteFrame=l}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=cc.gfx,n={tag:"vec2",varSelect:!0,varDeftype:e.VariableType.UNIFORM,varAttrMacro:"ATTR_VEC2",varAttrMacroCheckOnly:!1,varAttrName:"a_vec2",varUnifMacro:"UNIF_VEC2",varUnifMacroCheckOnly:!1,varUnifName:"u_vec2",valDefault:cc.v2(),valNew:function(){return cc.v2()},valType:cc.Vec2,typeSize:2,toArray:function(e,t,r){e[r]=t.x,e[r+1]=t.y}},s=function(t){function s(){var r=null!==t&&t.apply(this,arguments)||this;return r._tag=n.tag,r._valueVar=new e.VariableConfig(n.varSelect,n.varDeftype,n.varAttrMacro,n.varAttrMacroCheckOnly,n.varAttrName,n.varUnifMacro,n.varUnifMacroCheckOnly,n.varUnifName),r._valueType=e.ValueType.SINGLE,r._value=n.valNew(),r._vertexValues=[],r._valueOffset=0,r}return __extends(s,t),Object.defineProperty(s.prototype,"valueVar",{get:function(){return this._valueVar},set:function(e){this._valueVar=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType!=t&&(this._valueType=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertexValues",{get:function(){return this._vertexValues},set:function(t){this._vertexValues=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),s.prototype.onLoad=function(){this.node.on("render_shape_checked",this.checkVertexValues,this),this.node.on("render_update_material",this.onRenderUpdateMaterial,this),this.node.on("render_update_attribute",this.onRenderUpdateAttribute,this),this.node.on("render_update_vertex",this.onRenderUpdateRenderData,this)},s.prototype.onDestroy=function(){this.node.targetOff(this)},s.prototype.onEnable=function(){this.onStateUpdate(!0)},s.prototype.onDisable=function(){this.onStateUpdate(!1)},s.prototype.onStateUpdate=function(){this.node.emit("shader_update_tag"),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_attribute"):this.onRenderUpdateMaterial(),this.checkVertexValues()},s.prototype.checkVertexValues=function(){if(this.enabled)if(this._valueType==e.ValueType.VERTEX){var t=this.getComponent(e.RenderSystem);if(t){for(var r=this._vertexValues,a=t._verticesCount,o=0;o<a;o++)null==r[o]&&(r[o]=n.valNew());r.length>a&&(this._vertexValues=r.slice(0,a))}}else this._vertexValues=[]},s.prototype.onRenderUpdateMaterial=function(t){if(t=t||this.getComponent(cc.RenderComponent)){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.unifMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.UNIFORM?(this.defineMaterialMacro(r,this._valueVar.unifMacro,!0),r.setProperty(this._valueVar.unifName,this._value)):this.defineMaterialMacro(r,this._valueVar.unifMacro,!1))}},s.prototype.getAttributeValues=function(t){var r=[];if(this._valueType===e.ValueType.SINGLE)n.toArray(r,this._value,0);else for(var a=t._verticesCount,o=0;o<a;o++)n.toArray(r,this._vertexValues[o]||n.valNew(),r.length);return r},s.prototype.onRenderUpdateAttribute=function(t){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.attrMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._valueVar.attrMacro,!0),this._valueOffset=t.addVertexAttribute({name:this._valueVar.attrName,type:i.ATTR_TYPE_FLOAT32,num:n.typeSize},n.typeSize)):(this.defineMaterialMacro(r,this._valueVar.attrMacro,!1),this._valueOffset=0))},s.prototype.onRenderUpdateRenderData=function(e){if(this.enabled&&this._valueOffset>0)for(var t=e._assembler,r=this.getAttributeValues(e),a=r.length,o=this._valueOffset,i=t.floatsPerVert,s=t.renderData.vDatas[0],l=0;l<4;l++){var p=i*l+o,h=n.typeSize*l;h>=a&&(h=0);for(var c=0;c<n.typeSize;c++)s[p+c]=r[h+c]}},__decorate([a(e.VariableConfig)],s.prototype,"_valueVar",void 0),__decorate([a({type:e.VariableConfig,tooltip:"\u503c\u53d8\u91cf"})],s.prototype,"valueVar",null),__decorate([a({type:cc.Enum(e.ValueType)})],s.prototype,"_valueType",void 0),__decorate([a({visible:function(){return this._valueVar.type!=e.VariableType.UNIFORM},type:cc.Enum(e.ValueType),tooltip:"\u503c\u7c7b\u578b"})],s.prototype,"valueType",null),__decorate([a(n.valType)],s.prototype,"_value",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.SINGLE},type:n.valType,tooltip:"\u503c"})],s.prototype,"value",null),__decorate([a([n.valType])],s.prototype,"_vertexValues",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.VERTEX},type:[n.valType],tooltip:"\u9876\u70b9\u503c"})],s.prototype,"vertexValues",null),__decorate([r("lcc$render.ShaderVec2"),o("i18n:lcc-render.menu_component/ShaderVec2")],s)}(e.ShaderComponent);e.ShaderVec2=s}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=cc.gfx,n={tag:"vec3",varSelect:!1,varDeftype:e.VariableType.UNIFORM,varAttrMacro:"ATTR_VEC3",varAttrMacroCheckOnly:!1,varAttrName:"a_vec3",varUnifMacro:"UNIF_VEC3",varUnifMacroCheckOnly:!1,varUnifName:"u_vec3",valDefault:cc.v3(),valNew:function(){return cc.v3()},valType:cc.Vec3,typeSize:3,toArray:function(e,t,r){e[r]=t.x,e[r+1]=t.y,e[r+2]=t.z}},s=function(t){function s(){var r=null!==t&&t.apply(this,arguments)||this;return r._tag=n.tag,r._valueVar=new e.VariableConfig(n.varSelect,n.varDeftype,n.varAttrMacro,n.varAttrMacroCheckOnly,n.varAttrName,n.varUnifMacro,n.varUnifMacroCheckOnly,n.varUnifName),r._valueType=e.ValueType.SINGLE,r._value=n.valNew(),r._vertexValues=[],r._valueOffset=0,r}return __extends(s,t),Object.defineProperty(s.prototype,"valueVar",{get:function(){return this._valueVar},set:function(e){this._valueVar=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType!=t&&(this._valueType=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertexValues",{get:function(){return this._vertexValues},set:function(t){this._vertexValues=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),s.prototype.onLoad=function(){this.node.on("render_shape_checked",this.checkVertexValues,this),this.node.on("render_update_material",this.onRenderUpdateMaterial,this),this.node.on("render_update_attribute",this.onRenderUpdateAttribute,this),this.node.on("render_update_vertex",this.onRenderUpdateRenderData,this)},s.prototype.onDestroy=function(){this.node.targetOff(this)},s.prototype.onEnable=function(){this.onStateUpdate(!0)},s.prototype.onDisable=function(){this.onStateUpdate(!1)},s.prototype.onStateUpdate=function(){this.node.emit("shader_update_tag"),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_attribute"):this.onRenderUpdateMaterial(),this.checkVertexValues()},s.prototype.checkVertexValues=function(){if(this.enabled)if(this._valueType==e.ValueType.VERTEX){var t=this.getComponent(e.RenderSystem);if(t){for(var r=this._vertexValues,a=t._verticesCount,o=0;o<a;o++)null==r[o]&&(r[o]=n.valNew());r.length>a&&(this._vertexValues=r.slice(0,a))}}else this._vertexValues=[]},s.prototype.onRenderUpdateMaterial=function(t){if(t=t||this.getComponent(cc.RenderComponent)){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.unifMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.UNIFORM?(this.defineMaterialMacro(r,this._valueVar.unifMacro,!0),r.setProperty(this._valueVar.unifName,this._value)):this.defineMaterialMacro(r,this._valueVar.unifMacro,!1))}},s.prototype.getAttributeValues=function(t){var r=[];if(this._valueType===e.ValueType.SINGLE)n.toArray(r,this._value,0);else for(var a=t._verticesCount,o=0;o<a;o++)n.toArray(r,this._vertexValues[o]||n.valNew(),r.length);return r},s.prototype.onRenderUpdateAttribute=function(t){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.attrMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._valueVar.attrMacro,!0),this._valueOffset=t.addVertexAttribute({name:this._valueVar.attrName,type:i.ATTR_TYPE_FLOAT32,num:n.typeSize},n.typeSize)):(this.defineMaterialMacro(r,this._valueVar.attrMacro,!1),this._valueOffset=0))},s.prototype.onRenderUpdateRenderData=function(e){if(this.enabled&&this._valueOffset>0)for(var t=e._assembler,r=this.getAttributeValues(e),a=r.length,o=this._valueOffset,i=t.floatsPerVert,s=t.renderData.vDatas[0],l=0;l<4;l++){var p=i*l+o,h=n.typeSize*l;h>=a&&(h=0);for(var c=0;c<n.typeSize;c++)s[p+c]=r[h+c]}},__decorate([a(e.VariableConfig)],s.prototype,"_valueVar",void 0),__decorate([a({type:e.VariableConfig,tooltip:"\u503c\u53d8\u91cf"})],s.prototype,"valueVar",null),__decorate([a({type:cc.Enum(e.ValueType)})],s.prototype,"_valueType",void 0),__decorate([a({visible:function(){return this._valueVar.type!=e.VariableType.UNIFORM},type:cc.Enum(e.ValueType),tooltip:"\u503c\u7c7b\u578b"})],s.prototype,"valueType",null),__decorate([a(n.valType)],s.prototype,"_value",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.SINGLE},type:n.valType,tooltip:"\u503c"})],s.prototype,"value",null),__decorate([a([n.valType])],s.prototype,"_vertexValues",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.VERTEX},type:[n.valType],tooltip:"\u9876\u70b9\u503c"})],s.prototype,"vertexValues",null),__decorate([r("render.ShaderVec3"),o("i18n:lcc-render.menu_component/ShaderVec3")],s)}(e.ShaderComponent);e.ShaderVec3=s}(lcc$render||(lcc$render={})),function(e){var t=cc._decorator,r=t.ccclass,a=t.property,o=t.menu,i=cc.gfx,n={tag:"vec4",varSelect:!0,varDeftype:e.VariableType.UNIFORM,varAttrMacro:"ATTR_VEC4",varAttrMacroCheckOnly:!1,varAttrName:"a_vec4",varUnifMacro:"UNIF_VEC4",varUnifMacroCheckOnly:!1,varUnifName:"u_vec4",valDefault:new cc.Vec4,valNew:function(){return new cc.Vec4},valType:cc.Vec4,typeSize:4,toArray:function(e,t,r){e[r]=t.x,e[r+1]=t.y,e[r+2]=t.z,e[r+3]=t.w}},s=function(t){function s(){var r=null!==t&&t.apply(this,arguments)||this;return r._tag=n.tag,r._valueVar=new e.VariableConfig(n.varSelect,n.varDeftype,n.varAttrMacro,n.varAttrMacroCheckOnly,n.varAttrName,n.varUnifMacro,n.varUnifMacroCheckOnly,n.varUnifName),r._valueType=e.ValueType.SINGLE,r._value=n.valNew(),r._vertexValues=[],r._valueOffset=0,r}return __extends(s,t),Object.defineProperty(s.prototype,"valueVar",{get:function(){return this._valueVar},set:function(e){this._valueVar=e,this.onRenderUpdateMaterial(),this.node.emit("shader_update_attribute")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"valueType",{get:function(){return this._valueType},set:function(t){this._valueType!=t&&(this._valueType=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"vertexValues",{get:function(){return this._vertexValues},set:function(t){this._vertexValues=t,this.checkVertexValues(),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_vertex"):this.onRenderUpdateMaterial()},enumerable:!1,configurable:!0}),s.prototype.onLoad=function(){this.node.on("render_shape_checked",this.checkVertexValues,this),this.node.on("render_update_material",this.onRenderUpdateMaterial,this),this.node.on("render_update_attribute",this.onRenderUpdateAttribute,this),this.node.on("render_update_vertex",this.onRenderUpdateRenderData,this)},s.prototype.onDestroy=function(){this.node.targetOff(this)},s.prototype.onEnable=function(){this.onStateUpdate(!0)},s.prototype.onDisable=function(){this.onStateUpdate(!1)},s.prototype.onStateUpdate=function(){this.node.emit("shader_update_tag"),this._valueVar.type==e.VariableType.ATTRIBUTE?this.node.emit("shader_update_attribute"):this.onRenderUpdateMaterial(),this.checkVertexValues()},s.prototype.checkVertexValues=function(){if(this.enabled)if(this._valueType==e.ValueType.VERTEX){var t=this.getComponent(e.RenderSystem);if(t){for(var r=this._vertexValues,a=t._verticesCount,o=0;o<a;o++)null==r[o]&&(r[o]=n.valNew());r.length>a&&(this._vertexValues=r.slice(0,a))}}else this._vertexValues=[]},s.prototype.onRenderUpdateMaterial=function(t){if(t=t||this.getComponent(cc.RenderComponent)){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.unifMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.UNIFORM?(this.defineMaterialMacro(r,this._valueVar.unifMacro,!0),r.setProperty(this._valueVar.unifName,this._value)):this.defineMaterialMacro(r,this._valueVar.unifMacro,!1))}},s.prototype.getAttributeValues=function(t){var r=[];if(this._valueType===e.ValueType.SINGLE)n.toArray(r,this._value,0);else for(var a=t._verticesCount,o=0;o<a;o++)n.toArray(r,this._vertexValues[o]||n.valNew(),r.length);return r},s.prototype.onRenderUpdateAttribute=function(t){var r=t._materials[0];r&&this.checkMaterialMacro(r,this._valueVar.attrMacro)&&(this.enabled&&this._valueVar.type===e.VariableType.ATTRIBUTE?(this.defineMaterialMacro(r,this._valueVar.attrMacro,!0),this._valueOffset=t.addVertexAttribute({name:this._valueVar.attrName,type:i.ATTR_TYPE_FLOAT32,num:n.typeSize},n.typeSize)):(this.defineMaterialMacro(r,this._valueVar.attrMacro,!1),this._valueOffset=0))},s.prototype.onRenderUpdateRenderData=function(e){if(this.enabled&&this._valueOffset>0)for(var t=e._assembler,r=this.getAttributeValues(e),a=r.length,o=this._valueOffset,i=t.floatsPerVert,s=t.renderData.vDatas[0],l=0;l<4;l++){var p=i*l+o,h=n.typeSize*l;h>=a&&(h=0);for(var c=0;c<n.typeSize;c++)s[p+c]=r[h+c]}},__decorate([a(e.VariableConfig)],s.prototype,"_valueVar",void 0),__decorate([a({type:e.VariableConfig,tooltip:"\u503c\u53d8\u91cf"})],s.prototype,"valueVar",null),__decorate([a({type:cc.Enum(e.ValueType)})],s.prototype,"_valueType",void 0),__decorate([a({visible:function(){return this._valueVar.type!=e.VariableType.UNIFORM},type:cc.Enum(e.ValueType),tooltip:"\u503c\u7c7b\u578b"})],s.prototype,"valueType",null),__decorate([a(n.valType)],s.prototype,"_value",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.SINGLE},type:n.valType,tooltip:"\u503c"})],s.prototype,"value",null),__decorate([a([n.valType])],s.prototype,"_vertexValues",void 0),__decorate([a({visible:function(){return this._valueType==e.ValueType.VERTEX},type:[n.valType],tooltip:"\u9876\u70b9\u503c"})],s.prototype,"vertexValues",null),__decorate([r("render.ShaderVec4"),o("i18n:lcc-render.menu_component/ShaderVec4")],s)}(e.ShaderComponent);e.ShaderVec4=s}(lcc$render||(lcc$render={})),function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.verticesCount=4,t.indicesCount=6,t.floatsPerVert=0,t.renderData=null,t}return __extends(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),t.setDirty()},Object.defineProperty(t.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),t.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this._renderComp.getVfmt())},t.prototype.resetRenderData=function(){var e=new cc.RenderData;return e.init(this),e.createFlexData(0,this.verticesCount,this.indicesCount,this._renderComp.getVfmt()),this.renderData=e,e},t.prototype.fillBuffers=function(e,t){t.worldMatDirty&&e.updateWorldVerts();var r=this.renderData,a=r.vDatas[0],o=r.iDatas[0],i=this.getBuffer(),n=i.request(this.verticesCount,this.indicesCount),s=n.byteOffset>>2,l=i._vData;a.length+s>l.length?l.set(a.subarray(0,l.length-s),s):l.set(a,s);for(var p=i._iData,h=n.indiceOffset,c=n.vertexOffset,d=0,u=o.length;d<u;d++)p[h++]=c+o[d]},t.prototype.updateRenderData=function(e){e.updateRenderData()},t}(cc.Assembler);cc.Assembler.register(e.RenderSystem,t)}(lcc$render||(lcc$render={}));